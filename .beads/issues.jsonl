{"id":"benchtop-0m6","title":"Wire DependenciesMultiSelect into StepEditor","description":"DependenciesMultiSelect component exists but not rendered in StepEditor. Need to:\n- Add dependencies section to StepEditor\n- Connect to store.setDependencies action\n- Show circular dependency warnings\n\nAcceptance: Can select/remove dependencies from step editor UI","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-08T06:45:36.743046-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:55:57.676731-05:00","closed_at":"2026-01-08T06:55:57.676731-05:00","close_reason":"Closed","labels":["dag","form","ui"]}
{"id":"benchtop-1","title":"Project Setup: Scaffold Next.js App","description":"Scaffold standalone Next.js bench-top MVP app with portfolio + item editor routes","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:13:56.716269-05:00","updated_at":"2025-12-17T15:14:10.275109-05:00","closed_at":"2025-12-17T15:14:10.275109-05:00"}
{"id":"benchtop-10","title":"AI: Pattern Mining Proposals","description":"Add pattern mining proposals view and ability to convert proposals into bulk edit drafts","design":"Backend task to analyze the 'Other' ActionFamily steps across the synthetic dataset. Cluster similar notes using LLM embeddings or text analysis.","acceptance_criteria":"List of proposed action_detail additions; mapping of synonyms; summary report of data quality gaps.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T15:13:56.80433-05:00","updated_at":"2025-12-17T15:25:56.019808-05:00","closed_at":"2025-12-17T15:25:56.019808-05:00","dependencies":[{"issue_id":"benchtop-10","depends_on_id":"benchtop-7","type":"blocks","created_at":"2025-12-17T15:13:56.86413-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-11","title":"UX: Portfolio View","description":"Build the portfolio landing page listing menu items (80*) with warning badges for missing method coverage or errors.","design":"Main landing page using TanStack Table for item list. Integrate validation warnings from the model.","acceptance_criteria":"Filterable item list; warning icons with tooltips; navigation to editor.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T15:16:09.483594-05:00","updated_at":"2025-12-17T15:23:12.802415-05:00","closed_at":"2025-12-17T15:23:12.802415-05:00","dependencies":[{"issue_id":"benchtop-11","depends_on_id":"benchtop-1","type":"blocks","created_at":"2025-12-17T15:16:15.493936-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-12","title":"UX: Item Editor - Scenario Bar","description":"Build the scenario configuration bar at the top of the editor to select equipment profiles and customization options.","design":"Context-aware selector component. Needs to feed into the resolveSteps function.","acceptance_criteria":"Dropdowns for equipment and customizations; state persistence in URL or store.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:16:09.661278-05:00","updated_at":"2025-12-17T15:23:51.481265-05:00","closed_at":"2025-12-17T15:23:51.481265-05:00","dependencies":[{"issue_id":"benchtop-12","depends_on_id":"benchtop-1","type":"blocks","created_at":"2025-12-17T15:16:15.504551-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-13","title":"UX: Item Editor - Resolved Steps View","description":"Implement the main step list showing the linear result of the scenario resolution.","design":"Timeline or Table view showing the linear output of resolveSteps. Highlight provenance.","acceptance_criteria":"Clear list of steps; color-coded provenance; rationale visible on hover.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:16:09.680151-05:00","updated_at":"2025-12-17T15:23:51.489579-05:00","closed_at":"2025-12-17T15:23:51.489579-05:00","dependencies":[{"issue_id":"benchtop-13","depends_on_id":"benchtop-4","type":"blocks","created_at":"2025-12-17T15:16:15.512215-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-14","title":"UX: Item Editor - Bench View Toggle","description":"Add a toggle to show all possible steps (including those filtered out by the scenario) for full bench-top editing.","acceptance_criteria":"Toggle switch; greyed-out state for excluded steps; clear visual distinction from resolved view.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T15:16:09.693109-05:00","updated_at":"2025-12-17T15:24:35.691479-05:00","closed_at":"2025-12-17T15:24:35.691479-05:00","dependencies":[{"issue_id":"benchtop-14","depends_on_id":"benchtop-13","type":"blocks","created_at":"2025-12-17T15:16:15.522596-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-15","title":"UX: Item Editor - Step Detail \u0026 Operation Drawer","description":"Implement side drawers for editing individual step fields and logical operations/methods.","design":"Multi-step form for step fields. Integration with BOM component data for target selection.","acceptance_criteria":"Operation/Method grouping; searchable BOM picker; override toggle for inherited fields.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:16:09.706566-05:00","updated_at":"2025-12-17T15:24:35.702442-05:00","closed_at":"2025-12-17T15:24:35.702442-05:00","dependencies":[{"issue_id":"benchtop-15","depends_on_id":"benchtop-3","type":"blocks","created_at":"2025-12-17T15:16:15.529991-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-16","title":"UX: Scenario Compare Modal","description":"Build a modal to compare two scenario outputs side-by-side with a diff report.","acceptance_criteria":"Select A and B scenarios; show added/removed steps and field deltas; AI-generated explanation of the diff.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T15:16:09.719024-05:00","updated_at":"2025-12-17T15:26:45.582453-05:00","closed_at":"2025-12-17T15:26:45.582453-05:00","dependencies":[{"issue_id":"benchtop-16","depends_on_id":"benchtop-6","type":"blocks","created_at":"2025-12-17T15:16:15.54052-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-17","title":"Epic: Bench-top Line Build Redesign","description":"Modernize line build authoring to solve duplication and BOM disconnect issues.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-17T15:16:25.704558-05:00","updated_at":"2025-12-17T15:26:52.431583-05:00","closed_at":"2025-12-17T15:26:52.431583-05:00"}
{"id":"benchtop-18","title":"Benchtop MVP UX/Productivity rollout (Beads)","description":"Goal\n- Drive impact and productivity in the benchtop line build MVP by making safe, fast, reference-first changes the default.\n\nContext\n- App: apps/benchtop-mvp (Next.js App Router)\n- Strategy: PRD 'Reference-First Line Builds' (prd-reference-first-line-builds.md)\n- Current UX state: strong scenario-first editor + diff + AI surfaces, but many actions are UI-only (no persistence / apply).\n\nStrategic principle (Even/Over)\n- Edit references even over editing instances.\n\nPrimary user journeys\n- Edit one dish quickly (day-to-day authoring)\n- Standardize patterns across dishes (bulk edit)\n- Make operational changes (equipment/station/tool swaps)\n- Validate and publish safely (warn-first -\u003e gate later)\n- Learn bottom-up behavior into reusable library (AI-assisted, never required)\n\nBeads (child issues in this epic)\n- Bead 1: Faster single-dish editing loop (reduce clicks, linkable scenarios, actionable validation)\n- Bead 2: Reference defaults + provenance actions + repeated-target guardrail\n- Bead 3: Bulk edit builder (filter -\u003e preview) as a first-class workflow\n- Bead 4: Apply + undo + audit log (safety + reversibility)\n- Bead 5: AI becomes a change generator (always preview-first)\n- Bead 6: Scenario compare -\u003e save as overlay/variant\n- Bead 7: Portfolio becomes a work queue + governance surface\n\nNon-goals (MVP)\n- Production DB integration\n- Perfect action taxonomy\n- Fully robot-executable instruction language","design":"UX principles\n- Hick's Law: two primary paths everywhere (single dish edit vs portfolio change) + progressive disclosure for advanced fields.\n- Doherty Threshold: scenario toggles + previews should feel instant or show clear, tight feedback.\n- Peak-End Rule: optimize the safety/clarity of Preview-\u003eApply and Publish moments.\n\nImplementation principle\n- Prefer reference-level changes (defaults/inheritance/variants) and make step-level edits a deliberate fallback.","acceptance_criteria":"- All bead issues exist and are linked as parent-child to this epic.\n- Dependencies reflect the intended delivery sequence.\n- Each bead has clear acceptance criteria and file-level implementation notes.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-17T17:16:40.817406-05:00","updated_at":"2025-12-17T18:21:45.464663-05:00","closed_at":"2025-12-17T18:21:45.464663-05:00","labels":["beads","benchtop-mvp","plan","ux"],"dependencies":[{"issue_id":"benchtop-18","depends_on_id":"benchtop-19","type":"parent-child","created_at":"2025-12-17T17:19:55.906659-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-18","depends_on_id":"benchtop-20","type":"parent-child","created_at":"2025-12-17T17:19:55.916456-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-18","depends_on_id":"benchtop-21","type":"parent-child","created_at":"2025-12-17T17:19:55.923003-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-18","depends_on_id":"benchtop-22","type":"parent-child","created_at":"2025-12-17T17:19:55.929847-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-18","depends_on_id":"benchtop-23","type":"parent-child","created_at":"2025-12-17T17:19:55.936714-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-18","depends_on_id":"benchtop-24","type":"parent-child","created_at":"2025-12-17T17:19:55.943431-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-18","depends_on_id":"benchtop-25","type":"parent-child","created_at":"2025-12-17T17:19:55.95072-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-19","title":"Bead 1 — Faster single-dish editing loop","description":"Goal\n- Reduce time/clicks to diagnose + fix an item build in /item/[id].\n- Make scenario exploration shareable and repeatable.\n\nWhy (ties to PRD + pain points)\n- Pain points: steep learning curve, hard to test/preview, manual loops.\n- PRD: warn-first validation, previewability, explainability.\n- Current state: validations exist but are not actionable; scenario state is not linkable; Settings preference exists but is not applied in the editor.\n\nScope\n- Apply user preference: honor localStorage key `benchtop_default_bench_view` inside the item editor.\n- Clickable validation: clicking a warning selects the associated step (and scrolls/visually highlights it).\n- Shareable scenario state in URL: encode equipment profile + selected customizations + view mode in query params; restore on load.\n\nNon-goals\n- Server persistence; DB integration.\n- Full inline editing / bulk apply.\n\nImplementation notes (current code)\n- Item editor: apps/benchtop-mvp/src/app/item/[id]/page.tsx\n  - state: selectedProfileId, selectedCustIds, benchView, selectedStepId\n  - warnings already include `stepId` via validateBuild()\n- Settings: apps/benchtop-mvp/src/app/settings/page.tsx\n  - already writes localStorage key for bench view\n- Consider query params (example):\n  - ?profile=profile_turbo\u0026cust=opt1:valA,opt2:valB\u0026view=bench|resolved\n  - Keep backward-compatible defaults when params missing.\n\nRisks / edge cases\n- Invalid query params (unknown profile/cust) should fall back safely.\n- Scrolling to a step row requires stable DOM refs keyed by stepId.","design":"UX\n- Keep the primary loop tight: scenario bar -\u003e step list -\u003e fix warning -\u003e re-check.\n- Warnings should feel like a work queue: actionable, not informational.\n\nInteraction details\n- Clicking a warning:\n  - sets selectedStepId\n  - ensures the row is scrolled into view\n  - flashes highlight for ~1s\n- URL updates should be debounced to avoid noisy history; prefer router.replace().","acceptance_criteria":"- When Settings has Default Bench View enabled, opening any /item/[id] defaults to Bench view.\n- Copy/paste of the item URL preserves: selected equipment profile, selected customizations, and bench/resolved mode.\n- Clicking a validation warning navigates to the associated step (selects + scrolls + highlights).\n- Invalid/missing query params do not crash the page; they gracefully fall back.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T17:18:34.525298-05:00","updated_at":"2025-12-17T17:51:46.397663-05:00","closed_at":"2025-12-17T17:51:46.397663-05:00","labels":["bead","editor","scenario","ux","validation"]}
{"id":"benchtop-2","title":"Data: Create Synthetic Fixtures","description":"Create synthetic fixture datasets for 80* items, 40* BOM components (with qty/UOM), equipment profiles, and customization values","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:13:56.723451-05:00","updated_at":"2025-12-17T15:14:50.950468-05:00","closed_at":"2025-12-17T15:14:50.950468-05:00","dependencies":[{"issue_id":"benchtop-2","depends_on_id":"benchtop-3","type":"blocks","created_at":"2025-12-17T15:13:56.814516-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-20","title":"Bead 2 — Reference defaults + provenance actions + repeated-target guardrail","description":"Goal\n- Make “edit references, not instances” the default behavior.\n\nWhy (ties to PRD + pain points)\n- PRD core idea: edit references, not instances; defaults/inheritance are high-ROI.\n- Pain points: global changes are hard; BOM↔line build drift causes incidents.\n- Current state: provenance is displayed, but users can’t act on it; defaults are read-only fixtures.\n\nScope\n- Defaults editor UI (MVP): edit menuItem↔BOM defaults (station/tool/portion) and immediately see impacted resolved steps.\n- Provenance actions:\n  - For inherited fields, provide “Why?” + “Edit default” entry points.\n  - Jump from a step to the relevant default record.\n- Repeated target guardrail (PRD R2):\n  - When selecting a target BOM already used in another step, prompt confirmation (“This component is already used in Step X. Add another use?”).\n\nNon-goals\n- Perfect governance model for defaults ownership.\n- Complex filtering across the entire portfolio (that’s Bead 3+).\n\nImplementation notes\n- Data model exists: MenuItemBomDefaults (lib/model/types.ts).\n- Resolver already applies inheritance from defaults (lib/model/resolver/index.ts).\n- UI hooks point: ProvenanceBadge in item editor currently shows source via title.\n- For MVP persistence, consider localStorage-backed overrides layer rather than editing JSON fixtures.\n\nRisks / edge cases\n- Multiple steps can legitimately reference the same BOM target; prompt must not block intended duplicates.\n- If defaults change, validation counts and resolved steps should update deterministically.","design":"UX\n- Prefer “edit default” over “override step” for inherited values.\n- Make it obvious which level you’re editing:\n  - Reference-level: affects many steps\n  - Step-level: affects only this step\n\nSafety\n- Always show impact preview (even if small): “X steps affected in this item”.","acceptance_criteria":"- From any inherited Station/Tool badge, user can open the relevant default and edit it.\n- Editing a default immediately updates resolved steps + provenance explanations for that menu item.\n- Selecting an already-used target prompts a confirm dialog with the earlier step reference.\n- User can proceed (duplicate) or cancel (no change) without losing other edits.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T17:18:34.640357-05:00","updated_at":"2025-12-17T17:59:51.513965-05:00","closed_at":"2025-12-17T17:59:51.513965-05:00","labels":["bead","defaults","provenance","reference-first","ux"],"dependencies":[{"issue_id":"benchtop-20","depends_on_id":"benchtop-19","type":"blocks","created_at":"2025-12-17T17:19:23.498652-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-21","title":"Bead 3 — Bulk edit builder (filter → preview)","description":"Goal\n- Ship the core maintenance loop: Filter → Preview (PRD R3) as a first-class workflow.\n\nWhy\n- Pain points: no find/replace, no global change capability, high manual burden.\n- PRD: bulk editing is the primary win; preview-first safety is non-negotiable.\n\nScope\n- New Changes/Bulk Edit surface (route): /changes (name TBD).\n- Filter builder inputs (MVP):\n  - target BOM id\n  - station/tool\n  - action family/detail (where available)\n  - equipment/appliance/method (where available)\n- Preview outputs:\n  - affected menu items count\n  - affected steps count\n  - before/after diff summary (field-level)\n  - validation deltas (warnings added/removed)\n  - (optional) scenario diff summary when relevant\n- Strategy selection:\n  - Reference-level change (defaults)\n  - Step-level patch (direct)\n  - UI should make the distinction obvious.\n\nNon-goals\n- Apply/undo/audit (Bead 4).\n\nImplementation notes\n- Use repository fixtures as the portfolio data source (repo is local/synthetic).\n- Reuse existing diff/validation/resolver utilities:\n  - lib/model/resolver/index.ts\n  - lib/model/diff/index.ts\n  - lib/model/validation/index.ts","design":"UX\n- Hick's Law: start with common bulk edits as presets (Tool swap, Station move, Standardize OTHER).\n- Preview should load fast; show progressive loading if necessary.\n\nSafety\n- No “Apply” in this bead unless it routes through a clear confirmation step.","acceptance_criteria":"- User can define a filter and see a trustworthy preview list of affected items/steps.\n- Preview includes a clear summary: counts + field-level diffs + warning deltas.\n- User can choose between reference-level vs step-level change strategies (even if apply is disabled).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T17:18:34.683963-05:00","updated_at":"2025-12-17T18:03:04.197046-05:00","closed_at":"2025-12-17T18:03:04.197046-05:00","labels":["bead","bulk-edit","changes","preview","ux"],"dependencies":[{"issue_id":"benchtop-21","depends_on_id":"benchtop-20","type":"blocks","created_at":"2025-12-17T17:19:23.505642-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-22","title":"Bead 4 — Apply + undo + audit (MVP)","description":"Goal\n- Make changes safe and reversible: Apply → Audit → Undo.\n\nWhy\n- Pain points: global changes are risky; no auditable bulk operations.\n- PRD: preview-first bulk edits + auditability are required for trust and scale.\n- Current state: changes are mostly UI-only; no persistence.\n\nScope\n- Implement Apply for:\n  - Reference-level changes (update defaults)\n  - Step-level patches (update filtered steps)\n- Implement Undo for the most recent change set (single-step rollback).\n- Add an Audit Log view:\n  - actor, timestamp\n  - filter + patch definition\n  - counts affected (items/steps)\n  - validation delta summary\n\nMVP persistence strategy (pick one)\n- Local-only: persist change sets + current state in localStorage.\n- OR lightweight in-memory store plus JSON export.\n\nNon-goals\n- Multi-user concurrency and permissions.\n- Long-term schema migration.\n\nImplementation notes\n- Add a minimal “change set” domain object: {filter, patch, strategy, preview, appliedAt, undoPatch}.\n- Reuse validateBuild/resolver/diff to compute impact + rollback correctness.","design":"Safety UX\n- Apply is always behind Preview + explicit confirmation.\n- After apply, show a toast/summary with “Undo” as a primary affordance.\n- Audit log is discoverable from /changes.","acceptance_criteria":"- Applying a change modifies the current data model (defaults or steps) and updates previews/resolved steps accordingly.\n- Every apply creates an audit record with filter/patch + counts + warning deltas.\n- User can undo the last applied change and return to the prior state.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T17:19:09.577474-05:00","updated_at":"2025-12-17T18:08:21.797258-05:00","closed_at":"2025-12-17T18:08:21.797258-05:00","labels":["apply","audit","bead","bulk-edit","safety","ux"],"dependencies":[{"issue_id":"benchtop-22","depends_on_id":"benchtop-21","type":"blocks","created_at":"2025-12-17T17:19:23.512106-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-23","title":"Bead 5 — AI becomes a change generator (preview-first)","description":"Goal\n- AI outputs structured, previewable change sets that plug directly into the /changes flow.\n\nWhy\n- PRD: AI should suggest, not block; safety requires preview-first.\n- Current state: AI sidebar returns structured JSON, but “Apply to N steps” is not wired and may imply silent changes.\n\nScope\n- AISidebar:\n  - “Apply to N steps” opens the bulk edit preview with the proposed filter+patch.\n  - Show affected steps in-context (highlight) before user confirms.\n- AI Lab:\n  - proposals become draft change sets that open in preview.\n- Optional: AI-assisted expansion\n  - AI suggests additional candidate matches with confidence; user approves to include.\n\nNon-goals\n- Fully autonomous edits without review.\n\nImplementation notes\n- /api/ai/invoke already returns schemas (filter + patch + confidence).\n- Wire routing/state so the result becomes a first-class ChangeSet draft.","design":"UX\n- AI never applies directly.\n- The “moment of truth” is always the same Preview → Apply flow, whether AI- or user-authored.\n- Show confidence and rationale, but keep the default action: preview.","acceptance_criteria":"- AI-generated proposals can be opened as a draft change set in /changes preview.\n- No AI action mutates data until a user confirms Apply.\n- AI-generated applied changes are recorded in the audit log (same format as manual changes).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T17:19:09.595125-05:00","updated_at":"2025-12-17T18:15:13.678338-05:00","closed_at":"2025-12-17T18:15:13.678338-05:00","labels":["ai","bead","bulk-edit","preview","ux"],"dependencies":[{"issue_id":"benchtop-23","depends_on_id":"benchtop-21","type":"blocks","created_at":"2025-12-17T17:19:23.51939-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-23","depends_on_id":"benchtop-22","type":"blocks","created_at":"2025-12-17T17:19:23.528357-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-24","title":"Bead 6 — Scenario compare → Save as overlay/variant","description":"Goal\n- Convert scenario diffs into deterministic, explainable variants/overlays instead of cloning builds.\n\nWhy\n- Pain points: multi-line build proliferation; equipment/site differences multiply maintenance.\n- PRD: bounded predicates + deterministic resolution + explainability.\n- Current state: compare modal is profile-only and read-only; overlays exist in model but lack authoring UX.\n\nScope\n- Scenario compare modal:\n  - support customizations on both sides (not just profile B)\n  - provide “Save as overlay” action for relevant changes\n- Overlay editor (MVP):\n  - predicate: customization value ids and/or capability\n  - overrides: station/tool/time/notes\n  - priority ordering\n  - “Why did it apply?” explanation\n\nNon-goals\n- Full restaurant/site predicate model (can be added later).\n\nImplementation notes\n- Model already supports overlays on Step (types.ts).\n- Resolver already applies overlays by priority (resolver/index.ts).","design":"UX\n- The overlay authoring flow should start from a concrete diff (“save this change as a rule”).\n- Show deterministic resolution order and provenance (why this overlay won).","acceptance_criteria":"- User can compare two scenarios (profile + customizations) and generate an overlay rule from a diff.\n- After saving, the overlay applies deterministically and the UI can explain why.\n- Provenance reflects overlay sourceId.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T17:19:09.615911-05:00","updated_at":"2025-12-17T18:19:08.609437-05:00","closed_at":"2025-12-17T18:19:08.609437-05:00","labels":["bead","diff","overlays","scenario","ux","variants"],"dependencies":[{"issue_id":"benchtop-24","depends_on_id":"benchtop-22","type":"blocks","created_at":"2025-12-17T17:19:23.539414-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-25","title":"Bead 7 — Portfolio becomes a work queue + governance surface","description":"Goal\n- Turn the Portfolio page into the daily “next best action” queue for CE/Ops.\n\nWhy\n- Pain points: no central view/management; hard to find what to fix; standardization progress is invisible.\n- Current state: Portfolio lists items but has limited filters and CTAs; Stats are mostly placeholders.\n\nScope\n- Portfolio filters/sorts:\n  - has errors (validateBuild)\n  - has OTHER action family\n  - has method coverage gaps\n  - status draft/published/no build\n  - recently updated\n- In-row CTAs:\n  - Fix warnings (deep-link into /item/[id] with scenario params)\n  - Standardize OTHER (open /changes with prefilled filter)\n- Light governance metrics:\n  - warning count trend (MVP: snapshot-based)\n  - OTHER usage count\n\nNon-goals\n- Full analytics backend.\n\nImplementation notes\n- validateBuild() already computes key warning classes.\n- Keep filters client-side for MVP (fixtures).","design":"UX\n- Portfolio should feel like a triage board.\n- Avoid vanity stats; prioritize actionable counts and direct links.","acceptance_criteria":"- Portfolio can be filtered to show items with errors/warnings and OTHER usage.\n- Clicking a CTA takes the user directly to the relevant fix flow (item editor or /changes preview).\n- Stats/metrics displayed are computed from current data (not hard-coded).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T17:19:09.636867-05:00","updated_at":"2025-12-17T18:21:28.106735-05:00","closed_at":"2025-12-17T18:21:28.106735-05:00","labels":["bead","governance","portfolio","queue","ux"],"dependencies":[{"issue_id":"benchtop-25","depends_on_id":"benchtop-19","type":"blocks","created_at":"2025-12-17T17:19:23.547067-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-25","depends_on_id":"benchtop-21","type":"blocks","created_at":"2025-12-17T17:19:23.554027-05:00","created_by":"brandongalang","metadata":"{}"},{"issue_id":"benchtop-25","depends_on_id":"benchtop-20","type":"blocks","created_at":"2025-12-17T17:19:23.560897-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-3","title":"Model: Define Core Types","description":"Define TypeScript types for build/step/operation/method/overlay/scenario and persistence interfaces","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:13:56.732374-05:00","updated_at":"2025-12-17T15:14:31.595723-05:00","closed_at":"2025-12-17T15:14:31.595723-05:00"}
{"id":"benchtop-3ol","title":"Implement Gantt/timeline view","description":"PRD requires Gantt/timeline visualization (separate from DAG). DAG shows dependencies, Gantt shows time-based sequencing. Need to:\n- Create GanttVisualization component\n- Show work units on timeline based on duration\n- Indicate parallel vs sequential timing\n- Sync selection with form panel\n\nAcceptance: Center panel can toggle between DAG and Gantt views","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-08T06:46:00.803886-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:00.803886-05:00","labels":["ui","visualization"]}
{"id":"benchtop-3ui","title":"Overlay: data model + persistence","description":"## Overlay Data Model\n\n### Types to Add\n```typescript\ninterface Overlay {\n  id: string;\n  name: string;\n  condition: OverlayCondition;\n  stepOverrides: StepOverride[];\n  priority: number;\n  createdAt: string;\n}\n\ninterface OverlayCondition {\n  equipmentProfile?: string;  // 'no_waterbath', 'no_fryer'\n  customerMod?: string;       // 'extra_sauce', 'no_onions'\n}\n\ninterface StepOverride {\n  stepId: string;\n  field: keyof WorkUnit;\n  value: any;\n}\n```\n\n### Persistence\n- Store overlays in LineBuild.overlays[] array\n- JSON persistence (same pattern as line builds)\n\n### Acceptance Criteria\n- [ ] Overlay, OverlayCondition, StepOverride types defined\n- [ ] LineBuild type includes overlays?: Overlay[]\n- [ ] CRUD operations for overlays (add, update, delete)\n- [ ] Overlays persist with line build JSON","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T21:35:31.733409-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:24.533811-05:00","closed_at":"2026-01-08T06:46:24.533811-05:00","close_reason":"Implemented in ralph-improve Iteration 6 - types.ts extended with EquipmentProfile, CustomizationValue, WorkUnitOverlay, FieldProvenance, ScenarioContext, ResolvedWorkUnit","labels":["data","overlay"],"dependencies":[{"issue_id":"benchtop-3ui","depends_on_id":"benchtop-nje","type":"blocks","created_at":"2026-01-07T21:36:12.727234-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-3v1","title":"Unit tests: app shell and layout components","description":"Write unit tests for app shell (benchtop-x0c.11.1-11.5). Test: route definitions, layout responsiveness, panel resizing, state store synchronization (form→chat→DAG), persistence load/save lifecycle, validation result display. Use React Testing Library + Mock Next.js router.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T18:47:53.78144-05:00","created_by":"brandongalang","updated_at":"2026-01-07T22:05:40.759023-05:00","closed_at":"2026-01-07T22:05:40.759023-05:00","close_reason":"Closed","labels":["test unit app"],"dependencies":[{"issue_id":"benchtop-3v1","depends_on_id":"benchtop-x0c.11.5","type":"blocks","created_at":"2026-01-07T18:48:18.611508-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-4","title":"Logic: Implement Scenario Resolver","description":"Implement resolveSteps(build, scenario) with inheritance + overlays + provenance","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:13:56.740018-05:00","updated_at":"2025-12-17T15:15:09.493634-05:00","closed_at":"2025-12-17T15:15:09.493634-05:00","dependencies":[{"issue_id":"benchtop-4","depends_on_id":"benchtop-3","type":"blocks","created_at":"2025-12-17T15:13:56.823328-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-44m","title":"Unit tests: structured rules evaluator","description":"Write unit tests for benchtop-x0c.7.1 (structured rules evaluator). Test: rule evaluation logic for all rule types, edge cases (empty rules, null fields, malformed data), performance with many rules. Should achieve 80%+ code coverage.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T18:18:23.499638-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:50:46.27728-05:00","closed_at":"2026-01-07T20:50:46.27728-05:00","close_reason":"Closed","labels":["test","unit","validation"],"dependencies":[{"issue_id":"benchtop-44m","depends_on_id":"benchtop-x0c.7.1","type":"blocks","created_at":"2026-01-07T18:19:11.985478-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-47k","title":"Audit: P1.8 Migration - Import Path Not Defined in MVP Plan","description":"## PRD Alignment Audit\n\n### Requirement: P1.8 - Migrate Existing Data\n\nFrom PRD:\n\u003e **P1.8**: Migrate existing data | 95%+ auto-converts; \u003c5% needs review\n\n### What Was Implemented:\n- ✓ Type definitions support legacy import (provenance tracking)\n- ✓ SPEC-TECHNICAL.md documents migration approach:\n  - 100% of legacy rows can be assigned action.family\n  - 97.9% have extractable target.name\n  - 95.5% translate with high confidence\n\n### What's Missing:\n- ❌ No migration/import tool (CLI or UI)\n- ❌ No batch import job\n- ❌ No 'needs review' queue for the 5% high-confidence items\n- ❌ No provenance tracking UI (showing what came from legacy)\n- ❌ No validation that 95%+ were successfully migrated\n\n### Root Cause:\nMigration was identified as a success metric but not planned as a bead. This is critical infrastructure for:\n- Initial data load (50+ items per PRD success metrics)\n- User trust (audit trail shows what came from where)\n- Data quality measurement\n\n### Acceptance Criteria:\n- [ ] Migration CLI tool exists (import legacy JSON → new schema)\n- [ ] Success report: % migrated with high confidence\n- [ ] Provenance tracking shows legacy_import for imported fields\n- [ ] Review queue for \u003c5% that need human attention\n- [ ] Validation: ≥95% of items migrate without manual intervention\n- [ ] Audit trail preserved (original text + AI confidence scores)\n\n### Next Steps:\n1. Add migration/import bead(s) to P1 phase\n2. Design review queue UI for high-confidence items\n3. Add validation metrics bead to track migration success","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T21:25:11.038722-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:31:58.877996-05:00","closed_at":"2026-01-07T21:31:58.878011-05:00","labels":["audit","migration","prd-alignment"]}
{"id":"benchtop-4bj","title":"Form: Pre-service prep tags (prepType, storageLocation, bulkPrep)","description":"## Pre-service Prep Support\n\nPer PRD P1.9: Capture pre-service prep separately from order execution.\n\n### What is Pre-Service Prep?\nWork done BEFORE kitchen opens / before orders fire (morning prep). Examples:\n- Opening cases\n- Portioning ingredients\n- Staging items so they're ready when orders fire\n\n### Tags to Support\n\n| Tag | Type | Values |\n|-----|------|--------|\n| `prepType` | enum | `pre_service` \\| `order_execution` |\n| `storageLocation` | enum | `cold_storage`, `cold_rail`, `dry_rail`, `freezer`, `ambient`, `hot_hold_well` |\n| `bulkPrep` | boolean | `true` = bulk pattern (open/portion/store), `false` = just grab |\n\n### Storage Locations\n\n| Location | Description | Accessibility |\n|----------|-------------|---------------|\n| `cold_storage` | Walk-in/reach-in fridge | Low (back of house) |\n| `cold_rail` | Cold line/rail at station | High (at hand) |\n| `dry_rail` | Dry storage at station | High (at hand) |\n| `freezer` | Freezer storage | Low |\n| `ambient` | Room temperature | Medium |\n| `hot_hold_well` | Hot holding well | High |\n\n### Acceptance Criteria\n- [ ] WorkUnit type includes `prepType?`, `storageLocation?`, `bulkPrep?` fields\n- [ ] Step editor shows prep fields (conditionally, or in an 'Advanced' section)\n- [ ] prepType dropdown with pre_service / order_execution options\n- [ ] storageLocation dropdown (only enabled when prepType = pre_service)\n- [ ] bulkPrep checkbox (only enabled when prepType = pre_service)\n- [ ] Default prepType = 'order_execution' for new steps\n\n### Why This Matters\n- Complexity scoring can filter: include prep, exclude prep, prep-only\n- Dishes with hidden prep labor are distinguished from service-only dishes","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T21:18:04.642246-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:27.448163-05:00","closed_at":"2026-01-08T06:46:27.448163-05:00","close_reason":"Fields exist in types.ts (prepType, storageLocation, bulkPrep) and StepEditor.tsx has UI fields - P1.9 complete per improvements.txt","labels":["form","phase1","prep"],"dependencies":[{"issue_id":"benchtop-4bj","depends_on_id":"benchtop-x0c.3.2","type":"blocks","created_at":"2026-01-07T21:18:10.626039-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-4bj","depends_on_id":"benchtop-x0c.3","type":"blocks","created_at":"2026-01-07T21:18:10.733688-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-5","title":"Logic: Implement Validation Rules","description":"Implement validation rules (required fields, overlay conflicts, method coverage) and warnings UX","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T15:13:56.74858-05:00","updated_at":"2025-12-17T15:15:24.93554-05:00","closed_at":"2025-12-17T15:15:24.93554-05:00","dependencies":[{"issue_id":"benchtop-5","depends_on_id":"benchtop-4","type":"blocks","created_at":"2025-12-17T15:13:56.832468-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-59y","title":"Chat: human confirm/deny for AI suggestions","description":"PRD requires human-in-the-loop approval before applying AI suggestions. Current implementation auto-applies on medium/high confidence. Need to:\n- Show suggestion preview cards before applying\n- Add Accept/Reject buttons per suggestion\n- Only apply after explicit user confirmation\n- Track rejection reasons for prompt improvement\n\nRelated: benchtop-x0c.5.5","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-08T06:46:03.57579-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:03.57579-05:00","labels":["chat","copilotkit","ui"]}
{"id":"benchtop-6","title":"Logic: Implement Scenario Diff","description":"Implement scenario compare + diff report view","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T15:13:56.755337-05:00","updated_at":"2025-12-17T15:15:37.520644-05:00","closed_at":"2025-12-17T15:15:37.520644-05:00","dependencies":[{"issue_id":"benchtop-6","depends_on_id":"benchtop-4","type":"blocks","created_at":"2025-12-17T15:13:56.838909-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-7","title":"AI: Port Vertex AI Gemini Client","description":"Port Vertex AI Gemini setup from LineBuildPOC (ADC creds + VERTEX_AI_* env vars) and expose minimal AI endpoints","design":"Port the VertexAIAdapter from LineBuildPOC. Standardize on @google/genai. Use GOOGLE_APPLICATION_CREDENTIALS for ADC. Expose a single /api/ai/invoke endpoint that takes a 'task' type.","acceptance_criteria":"Valid Vertex client initialization; successful communication with Gemini 2.5 Flash; env vars configured.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:13:56.763632-05:00","updated_at":"2025-12-17T15:22:00.832693-05:00","closed_at":"2025-12-17T15:22:00.832693-05:00"}
{"id":"benchtop-7ql","title":"Design: form actions contract for chat integration","description":"Define which form operations are exposed as CopilotKit actions: addWorkUnit, editWorkUnit, removeWorkUnit, setDependencies, changeBOM. For each action, specify: inputs (which fields), preconditions, outputs (state changes), error cases. Document in schema doc. This informs benchtop-x0c.5.4 implementation.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T18:20:38.804755-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:44:55.111651-05:00","closed_at":"2026-01-07T19:44:55.111651-05:00","close_reason":"Closed","labels":["chat","design","schema"]}
{"id":"benchtop-8","title":"AI: Schema Validation for LLM Outputs","description":"Add JSON schema validation for AI outputs (structure suggestions and bulk edit proposals)","design":"Use Zod for response validation. Define schemas for each AI task output. Handle parsing of markdown-wrapped JSON from LLM responses.","acceptance_criteria":"Robust parsing of LLM JSON; clear error messages for invalid schemas; type safety for LLM results.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T15:13:56.770789-05:00","updated_at":"2025-12-17T15:22:00.840455-05:00","closed_at":"2025-12-17T15:22:00.840455-05:00","dependencies":[{"issue_id":"benchtop-8","depends_on_id":"benchtop-7","type":"blocks","created_at":"2025-12-17T15:13:56.848619-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-87c","title":"Overlay: preview resolved build for context","description":"## Overlay Preview\n\n### Purpose\nShow Shin what the line build looks like when a specific overlay applies.\n\n### UI Flow\n1. Click 'Preview' on an overlay in the panel\n2. Modal or side panel shows resolved build\n3. Changed steps highlighted (diff view)\n4. Close returns to normal view\n\n### Preview Options\n- **Single overlay preview** — See effect of one overlay\n- **Context preview** — Select equipment profile + mods, see combined result\n\n### Components\n```\n┌─────────────────────────────────────┐\n│ Preview: No Waterbath           [×] │\n├─────────────────────────────────────┤\n│ 1. Open chicken                     │\n│ 2. Heat chicken                 ⚡  │\n│    └─ equipment: turbo (was: wb)    │\n│    └─ time: 3m (was: 5m)            │\n│ 3. Transfer to pan                  │\n│ 4. Assemble bowl                    │\n└─────────────────────────────────────┘\n```\n\n### Acceptance Criteria\n- [ ] Preview button on each overlay\n- [ ] Shows resolved build with changes highlighted\n- [ ] Diff indicators (was X → now Y)\n- [ ] Can close preview to return to base view\n- [ ] Context selector (optional): pick profile + mods to preview combined","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T21:36:04.180188-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:21.299644-05:00","closed_at":"2026-01-08T06:46:21.299644-05:00","close_reason":"Implemented in ralph-improve Iteration 7 - ScenarioPanel with equipment profile selector, customization picker, and diff viewer","labels":["overlay","preview","ui"],"dependencies":[{"issue_id":"benchtop-87c","depends_on_id":"benchtop-x1i","type":"blocks","created_at":"2026-01-07T21:36:13.769337-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-87c","depends_on_id":"benchtop-fj2","type":"blocks","created_at":"2026-01-07T21:36:13.882828-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-9","title":"UX: Add AI Side Panel \u0026 Flows","description":"Add AI side panel and review/apply flows for suggestions and bulk edit preview/apply","design":"Chat-style interface in a right sidebar. Integrated with the scenario context. Buttons to trigger specific AI actions.","acceptance_criteria":"Collapsible sidebar; streaming text support; 'Apply' buttons for LLM suggestions that update local state.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T15:13:56.789404-05:00","updated_at":"2025-12-17T15:25:28.20373-05:00","closed_at":"2025-12-17T15:25:28.20373-05:00","dependencies":[{"issue_id":"benchtop-9","depends_on_id":"benchtop-8","type":"blocks","created_at":"2025-12-17T15:13:56.85561-05:00","created_by":"brandongalang","metadata":"{}"}]}
{"id":"benchtop-96t","title":"Rules Manager: full CRUD implementation","description":"Rules page (/rules) is a placeholder. Need full implementation:\n- List all validation rules (structured + semantic)\n- Create new rule form (structured: field/operator/value; semantic: prompt/guidance)\n- Edit existing rules\n- Enable/disable rules\n- Delete rules\n- Test rule against sample build\n\nParent epic: benchtop-x0c.8","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-08T06:46:01.718701-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:01.718701-05:00","labels":["rules","ui","validation"]}
{"id":"benchtop-9jy","title":"Unit tests: chat components (message feed, cards)","description":"Write unit tests for chat panel components (benchtop-x0c.5.1-5.2). Test: message rendering (user/assistant/system), timestamps, message persistence, card rendering with options, multi/single select modes, click handlers, empty state, scroll behavior. Use React Testing Library.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T18:47:38.30825-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:04:54.254635-05:00","closed_at":"2026-01-07T21:04:54.254635-05:00","close_reason":"Closed","labels":["test unit chat"],"dependencies":[{"issue_id":"benchtop-9jy","depends_on_id":"benchtop-x0c.5.2","type":"blocks","created_at":"2026-01-07T18:48:13.444967-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-bhn","title":"Migration UI: review queue page","description":"Migration items with low confidence need human review. Need review queue page:\n- List items requiring review with confidence scores\n- Show extracted data vs original text\n- Approve/reject/edit actions\n- Bulk approve for similar items\n- Route approved items to LineBuild storage\n\nRoute: /migration/review","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-08T06:46:05.438699-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:05.438699-05:00","labels":["migration","ui"]}
{"id":"benchtop-ccu","title":"Chat: create overlay from natural language","description":"## Chat-Driven Overlay Creation\n\n### User Flow\n1. Shin types: 'For locations without waterbath, use turbo for 3 minutes'\n2. AI parses intent → proposes overlay card\n3. Card shows: condition + step changes\n4. Shin clicks Confirm or Edit\n5. Overlay saved to LineBuild.overlays[]\n\n### CopilotKit Action\n```typescript\nuseCopilotAction({\n  name: 'createOverlay',\n  description: 'Create a variant/overlay for equipment or customer mod',\n  parameters: [\n    { name: 'name', type: 'string' },\n    { name: 'conditionType', type: 'string', enum: ['equipment', 'customerMod'] },\n    { name: 'conditionValue', type: 'string' },\n    { name: 'stepChanges', type: 'object[]' }\n  ],\n  render: ({ args }) =\u003e \u003cOverlayProposalCard {...args} /\u003e\n});\n```\n\n### Acceptance Criteria\n- [ ] CopilotKit action for createOverlay\n- [ ] AI understands equipment scenarios ('no waterbath', 'no fryer')\n- [ ] AI understands customer mods ('extra sauce', 'no onions')\n- [ ] Proposal card shows condition + changes clearly\n- [ ] Confirm saves overlay, Edit allows modifications\n- [ ] Keyboard accessible (Enter to confirm)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T21:35:48.07953-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:35:48.07953-05:00","labels":["chat","copilotkit","overlay"],"dependencies":[{"issue_id":"benchtop-ccu","depends_on_id":"benchtop-nje","type":"blocks","created_at":"2026-01-07T21:36:12.90808-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-ccu","depends_on_id":"benchtop-3ui","type":"blocks","created_at":"2026-01-07T21:36:13.07961-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-ccu","depends_on_id":"benchtop-x0c.5.4","type":"blocks","created_at":"2026-01-07T21:36:13.210038-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-cgu","title":"Migration UI: upload page","description":"Migration backend exists (MigrationService, legacyMapper, migrationValidator) but no UI. Need upload page:\n- File upload for legacy JSON/CSV\n- Confidence threshold configuration\n- Progress indicator during processing\n- Summary of results (auto-accepted vs needs-review counts)\n\nRoute: /migration/upload","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-08T06:46:04.489891-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:04.489891-05:00","labels":["migration","ui"]}
{"id":"benchtop-dsk","title":"Test: data persistence round-trip (save/load/verify)","description":"Test end-to-end persistence for benchtop-x0c.2.1-2.3. Create line build → save JSON → load from file → verify data integrity. Test: all field types, nested structures, special chars in strings, file I/O errors, corrupted JSON recovery.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T18:18:39.65788-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:56:39.04296-05:00","closed_at":"2026-01-07T20:56:39.04296-05:00","close_reason":"Closed","labels":["data","integration","test"],"dependencies":[{"issue_id":"benchtop-dsk","depends_on_id":"benchtop-x0c.2.3","type":"blocks","created_at":"2026-01-07T18:19:27.402744-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-fj2","title":"Overlay panel: list/edit/delete variants","description":"## Overlay Management Panel\n\n### Location\nNew section in editor (tab or collapsible panel below form)\n\n### UI Components\n```\n┌─────────────────────────────────────┐\n│ VARIANTS (3)                    [+] │\n├─────────────────────────────────────┤\n│ ▼ No Waterbath                      │\n│   When: equipment ≠ waterbath       │\n│   Changes: Step 2 → turbo, 3m       │\n│   [Preview] [Edit] [Delete]         │\n│                                     │\n│ ▼ Extra Sauce                       │\n│   When: mod = extra_sauce           │\n│   Changes: Step 5 → quantity 2x     │\n│   [Preview] [Edit] [Delete]         │\n└─────────────────────────────────────┘\n```\n\n### Features\n- Collapsible list of overlays\n- Each shows: name, condition summary, changes summary\n- Actions: Preview, Edit, Delete\n- Add button (opens chat or form)\n\n### Acceptance Criteria\n- [ ] Panel displays all overlays on current line build\n- [ ] Expand/collapse each overlay\n- [ ] Shows condition in human-readable form\n- [ ] Shows affected steps + field changes\n- [ ] Edit opens inline form or chat\n- [ ] Delete with confirmation\n- [ ] Empty state: 'No variants yet'","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T21:35:48.206504-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:35:48.206504-05:00","labels":["overlay","panel","ui"],"dependencies":[{"issue_id":"benchtop-fj2","depends_on_id":"benchtop-nje","type":"blocks","created_at":"2026-01-07T21:36:13.422156-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-fj2","depends_on_id":"benchtop-3ui","type":"blocks","created_at":"2026-01-07T21:36:13.540257-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-hj0","title":"Integration tests: semantic validation + Gemini","description":"Write integration tests for benchtop-x0c.7.2 (semantic rules via Gemini). Mock Gemini API. Test: various line builds with realistic semantic rules, timeout handling, API error handling, reasoning extraction. Should have end-to-end test cases from form data → validation results.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T18:18:28.900285-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:53:45.870534-05:00","closed_at":"2026-01-07T20:53:45.870534-05:00","close_reason":"Closed","labels":["integration","test","validation","vertex"],"dependencies":[{"issue_id":"benchtop-hj0","depends_on_id":"benchtop-x0c.7.2","type":"blocks","created_at":"2026-01-07T18:19:17.109938-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-j4n","title":"Unit tests: form components (step list, editor, deps)","description":"Write unit tests for form panel components (benchtop-x0c.3.1-3.5). Test: rendering steps, editing fields, dependency selection, adding/removing/reordering steps, BOM autocomplete, state updates to parent. Use React Testing Library.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T18:18:34.284256-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:02:32.069576-05:00","closed_at":"2026-01-07T21:02:32.069576-05:00","close_reason":"Closed","labels":["form","test","unit"],"dependencies":[{"issue_id":"benchtop-j4n","depends_on_id":"benchtop-x0c.3.5","type":"blocks","created_at":"2026-01-07T18:19:22.250243-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-l5c","title":"Wire StepEditor into EditorContainer","description":"StepEditor component exists but is not rendered in the editor layout. Need to:\n- Mount StepEditor in the Form panel when a step is selected\n- Connect to store.editWorkUnit for changes\n- Show empty state when no step selected\n\nAcceptance: Selecting a step in StepList opens its details in StepEditor below","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-08T06:45:34.035386-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:53:45.539674-05:00","closed_at":"2026-01-08T06:53:45.539674-05:00","close_reason":"Closed","labels":["editor","form","ui"]}
{"id":"benchtop-nje","title":"Epic: Overlays (Equipment + Customer Mods)","description":"## Overlay System for Line Build Variants\n\nPer PRD P1.6: Handle variations without duplication.\n\n### Scope\n- **Equipment profile overlays** — e.g., 'no waterbath' → swap to turbo\n- **Customer mod overlays** — e.g., 'extra sauce' → adjust quantity\n\n### Authoring Model\n- **Chat-driven creation** — Shin describes scenario, AI proposes overlay\n- **Panel for management** — View all variants, edit/delete\n\n### Data Model\n```typescript\ninterface Overlay {\n  id: string;\n  name: string;                    // 'No Waterbath', 'Extra Sauce'\n  condition: OverlayCondition;     // When does this apply?\n  stepOverrides: StepOverride[];   // What changes?\n  priority: number;                // Higher wins if multiple match\n}\n\ninterface OverlayCondition {\n  equipmentProfile?: string;       // 'no_waterbath', 'no_fryer'\n  customerMod?: string;            // 'extra_sauce', 'no_onions'\n}\n\ninterface StepOverride {\n  stepId: string;\n  field: string;                   // 'equipment', 'time', 'quantity'\n  value: any;                      // New value when overlay applies\n}\n```\n\n### Key Flows\n1. Chat: 'For no waterbath locations, use turbo 3 min' → AI proposes overlay → confirm\n2. Panel: See all overlays, preview resolved build, edit/delete\n3. Evaluation: Given context (equipment profile, mods), compute effective step values","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T21:35:23.467049-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:35:23.467049-05:00","labels":["overlay","phase1","variants"]}
{"id":"benchtop-nmy","title":"Audit: P1.6 Overlays/Variations - Not Implemented in MVP Plan","description":"## PRD Alignment Audit\n\n### Requirement: P1.6 - Handle Variations Without Duplication\n\nFrom PRD:\n\u003e **P1.6**: Handle variations without duplication | Conditional logic for equipment/location; base changes propagate; no separate copies\n\n### Context (from SPEC-TECHNICAL.md):\nThe schema includes extension points for future use:\n- `StepCondition`: Equipment profiles, customization options\n- `StepOverlay`: Conditional field overrides with priority\n\n### What Was Implemented:\n- ✓ Types defined in types.ts (conditions, overlays fields exist)\n- ✓ Schema supports nested overlay structures\n- ✓ SPEC-TECHNICAL.md documents the design\n\n### What's Missing:\n- ❌ No UI for creating/editing overlays\n- ❌ No overlay evaluation engine\n- ❌ No scenario preview (\"what if this equipment available?\")\n- ❌ No equipment profile matching/selection\n- ❌ No integration with validation (overlays affect what rules apply)\n\n### Root Cause:\nOverlays were intentionally deferred as 'extension points' for future use, but PRD P1.6 lists it as **Must-Have** for v1 success. Decision: Is this truly MVP or is it v1.1?\n\n### Acceptance Criteria (if P0):\n- [ ] Overlay UI: create condition + field overrides\n- [ ] Overlay evaluation: compute 'effective' field values per context\n- [ ] Scenario preview: show resolved output for different equipment profiles\n- [ ] Base changes propagate to overlays (referential integrity)\n- [ ] Validation considers overlays (rules conditional on context)\n\n### Acceptance Criteria (if P1):\n- [ ] Decision documented: why overlays deferred beyond MVP\n- [ ] Design for overlay evaluation engine documented\n- [ ] Open bead created for P1.1 implementation\n\n### Next Steps:\n1. Clarify scope: Is P1.6 critical path (MVP) or nice-to-have (v1.1)?\n2. If deferring: document rationale in decision log\n3. If including: move implementation to P0/P1 beads","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T21:25:10.165424-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:36:13.980428-05:00","closed_at":"2026-01-07T21:36:13.980432-05:00","labels":["audit","overlays","prd-alignment"]}
{"id":"benchtop-ntj","title":"Error handling: validation engine (timeouts, API failures, malformed rules)","description":"Implement graceful error handling for validation engine (benchtop-x0c.7.1-7.2). Handle: Gemini API timeouts/failures, rate limiting, network errors, malformed rule definitions, circular dependencies in structured rules. Show user-friendly error messages in validation panel.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T18:18:51.920448-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:57:43.3935-05:00","closed_at":"2026-01-07T21:57:43.3935-05:00","close_reason":"Closed","labels":["error-handling","validation","vertex"],"dependencies":[{"issue_id":"benchtop-ntj","depends_on_id":"benchtop-x0c.7.2","type":"blocks","created_at":"2026-01-07T18:19:32.750923-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-oqi","title":"Error handling: app-level recovery (state, persistence, API)","description":"Implement app-level error handling for critical failures. Handle: state store corruption (reset to last-known-good), API errors during load/save (retry with backoff, show toast), network timeouts, CopilotKit connection failures. Persist error logs for debugging. Show user-friendly recovery UI.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T18:48:34.417478-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:52:58.450027-05:00","closed_at":"2026-01-07T21:52:58.450027-05:00","close_reason":"Closed","labels":["error-handling app"],"dependencies":[{"issue_id":"benchtop-oqi","depends_on_id":"benchtop-x0c.11.5","type":"blocks","created_at":"2026-01-07T18:48:43.044375-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-rnq","title":"Display complexity score in editor UI","description":"Complexity engine exists (complexityEngine.ts) and useComplexityUpdater hook exists, but score is not displayed anywhere in the editor. Need to:\n- Add complexity score display to editor header or form panel\n- Wire useComplexityUpdater to auto-update on build changes\n- Show factor breakdown (work variety, equipment variety, station changes, time)\n\nAcceptance: Complexity score visible and updates when steps change","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-08T06:45:59.796465-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:57:26.593684-05:00","closed_at":"2026-01-08T06:57:26.593684-05:00","close_reason":"Closed","labels":["scoring","ui"]}
{"id":"benchtop-tp2","title":"Wire BOMAutocomplete into StepEditor target field","description":"BOMAutocomplete component exists but StepEditor uses free-text input for target. Need to:\n- Replace target.name text input with BOMAutocomplete\n- On selection, populate both bomId and name\n- Support 40* (consumables) filtering\n\nAcceptance: Target field shows autocomplete dropdown with BOM items","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-08T06:45:35.045647-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:54:42.257242-05:00","closed_at":"2026-01-08T06:54:42.257242-05:00","close_reason":"Closed","labels":["bom","form","ui"]}
{"id":"benchtop-u2x","title":"Error handling: graceful JSON corruption recovery","description":"Implement recovery for data layer (benchtop-x0c.2.x) when JSON files are corrupted or malformed. Create backup before save, show recovery UI, allow user to revert to last-known-good state. Log corruption events for debugging.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T18:18:57.321128-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:55:46.856081-05:00","closed_at":"2026-01-07T21:55:46.856081-05:00","close_reason":"Closed","labels":["data","error-handling"],"dependencies":[{"issue_id":"benchtop-u2x","depends_on_id":"benchtop-x0c.2.1","type":"blocks","created_at":"2026-01-07T18:19:37.898372-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-vex","title":"Audit: P1.5 Complexity Scoring - Not Implemented in MVP Plan","description":"## PRD Alignment Audit\n\n### Requirement: P1.5 - Calculate Complexity Without Manual Entry\n\nFrom PRD:\n\u003e **P1.5**: Calculate complexity without manual entry | Auto-score from captured data; accounts for work variety, equipment variety, station changes, time breakdown\n\n### What Was Implemented:\n- ✓ Core types capture: equipment, time, action variety, phase, station\n- ✓ Validation engines (structured + semantic)\n- ✓ Data persistence for line builds\n- ✓ Form captures all schema fields needed for scoring\n\n### What's Missing:\n- ❌ No bead for complexity scoring algorithm/engine\n- ❌ No UI to display computed scores\n- ❌ No filtering: 'include prep', 'exclude prep', 'prep-only'\n- ❌ No integration with dashboard or complexity display\n\n### PRD Details:\nThe schema must support computing these factors:\n- Step count\n- Equipment variety (distinct equipment.applianceId)\n- Short appliance steps (\u003c 45 sec equipment work)\n- Cold-to-hot rotation (sequence + phase analysis)\n- Back-to-back turbo (consecutive HEAT steps)\n- Total cook time (SUM where action = HEAT)\n- Active vs passive time breakdown\n- Hot/cold ratio (equipment classification)\n- Packaging complexity (VEND steps + container data)\n\n### Root Cause:\nComplexity scoring was treated as 'optional' and deferred to P2. However, PRD P1.5 lists it as **Must-Have** for v1 success. This is a scope gap.\n\n### Acceptance Criteria:\n- [ ] Create P0 or P1 bead(s) for complexity scoring implementation\n- [ ] Implement complexity calculation engine (pure function)\n- [ ] Add complexity display to editor UI or validation panel\n- [ ] Support filtering: include/exclude/prep-only\n- [ ] Validate scoring matches legacy spreadsheet values (within tolerance)\n\n### Next Steps:\n1. Clarify scope: Is complexity scoring P0 MVP or P1 v1.1?\n2. If P0: move implementation to critical path\n3. If P1: keep as open bead but raise visibility\n4. Either way: ADD UI for displaying computed scores","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T21:23:58.833664-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:31:58.981639-05:00","closed_at":"2026-01-07T21:31:58.981642-05:00","labels":["audit","complexity-scoring","prd-alignment"]}
{"id":"benchtop-x0c","title":"Epic: Line Build Authoring MVP (Fresh Start)","description":"Goal: MVP for Shin to author line builds via Chat + read-only DAG + Form, run structured+semantic validation, and use an agentic dashboard for search/bulk edits. No migration work.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T17:51:52.031751-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:51:52.031751-05:00","labels":["copilotkit","fresh-start","json-persistence","linebuild-mvp","prd","vertex"]}
{"id":"benchtop-x0c.1","title":"Epic: Project Setup","description":"## Epic: Project Setup\n\nPer PRD foundation requirements for establishing schemas, types, and integration infrastructure.\n\n### Child Tasks:\n- benchtop-x0c.1.1: Scaffold Next.js app (apps/line-build-mvp)\n- benchtop-x0c.1.2: Integrate Vertex AI client (Gemini)\n- benchtop-x0c.1.3: Integrate CopilotKit (chat + tool actions)\n- benchtop-x0c.1.4: Define core types (LineBuild, WorkUnit, Override, ValidationRule)\n- benchtop-x0c.1.5: Create mock BOM dataset\n- benchtop-x0c.1.6: Create sample line build fixtures\n\n### Purpose:\nEstablish the foundational infrastructure needed by all other epics. All P0 features depend on successful completion of this epic.\n\n### Acceptance Criteria:\n- [ ] Next.js app scaffolded and builds successfully\n- [ ] Vertex AI client integrated (can make inference requests)\n- [ ] CopilotKit configured (chat actions framework ready)\n- [ ] TypeScript types defined and exported from @/lib/model/types\n- [ ] Mock BOM data available for autocomplete testing\n- [ ] Sample fixtures available for UI testing","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T17:51:57.209719-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:24:24.680058-05:00","labels":["phase1","setup"],"dependencies":[{"issue_id":"benchtop-x0c.1","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:51:57.210675-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.1.1","title":"Scaffold new Next.js app (apps/line-build-mvp)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T17:52:48.956056-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:18:17.338084-05:00","closed_at":"2026-01-07T19:18:17.338084-05:00","close_reason":"Closed","labels":["nextjs","setup"],"dependencies":[{"issue_id":"benchtop-x0c.1.1","depends_on_id":"benchtop-x0c.1","type":"parent-child","created_at":"2026-01-07T17:52:48.956898-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.1.2","title":"Integrate Vertex AI client (Gemini)","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:52:54.142749-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:20:00.803273-05:00","closed_at":"2026-01-07T19:20:00.803273-05:00","close_reason":"Closed","labels":["ai","gemini","vertex"],"dependencies":[{"issue_id":"benchtop-x0c.1.2","depends_on_id":"benchtop-x0c.1","type":"parent-child","created_at":"2026-01-07T17:52:54.143925-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.1.2","depends_on_id":"benchtop-x0c.1.1","type":"blocks","created_at":"2026-01-07T18:04:47.066084-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.1.3","title":"Integrate CopilotKit (chat + tool actions)","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:52:59.310048-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:23:56.842191-05:00","closed_at":"2026-01-07T19:23:56.842191-05:00","close_reason":"Closed","labels":["ai","copilotkit"],"dependencies":[{"issue_id":"benchtop-x0c.1.3","depends_on_id":"benchtop-x0c.1","type":"parent-child","created_at":"2026-01-07T17:52:59.310966-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.1.3","depends_on_id":"benchtop-x0c.1.1","type":"blocks","created_at":"2026-01-07T18:04:52.213762-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.1.4","title":"Define core types (LineBuild, WorkUnit, Override, ValidationRule)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T17:53:04.493796-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:25:37.185851-05:00","closed_at":"2026-01-07T19:25:37.185851-05:00","close_reason":"Closed","labels":["schema","types"],"dependencies":[{"issue_id":"benchtop-x0c.1.4","depends_on_id":"benchtop-x0c.1","type":"parent-child","created_at":"2026-01-07T17:53:04.49498-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.1.4","depends_on_id":"benchtop-x0c.1.1","type":"blocks","created_at":"2026-01-07T18:04:57.356421-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.1.5","title":"Create mock BOM dataset (7-digit itemId + name)","description":"Create mock BOM dataset with realistic 7-digit item IDs following Cookbook conventions:\n\n## Item Types \u0026 IDs\nItems have 7-digit IDs where the first digit(s) signify the type:\n- **5\\* items** (ingredients) — Raw ingredients, lowest-level unit. Maps to procured external items.\n- **3\\* items** (benchtop recipes) — R\u0026D recipes for reference only; not in production systems.\n- **40\\* items** (consumable items) — Components used in menu item BOMs.\n- **80\\* items** (menu items) — Menu items that have line builds. Used in Spork for food production.\n- **88\\* items** (packaged goods) — Packaged items we produce.\n- **9\\* items** (guest packaging) — Guest packaging items.\n\n## BOM Structure\n- **Menu items (80\\*)** have BOMs containing **40\\* consumable items**\n- BOM contains: input item IDs, quantities, units of measure, output amounts\n\n## Key Rules\n- **Publishing Order**: Items cannot be published if they have draft records in their BOM.\n- **Cost \u0026 Nutrition Flow**: Costs roll up from base items; nutrition values flow through the BOM.\n\n## Acceptance Criteria\n- Create mock dataset with ~20-30 items:\n  - 5-10 menu items (80\\*) with realistic names (e.g., '8001234: Grilled Chicken Bowl')\n  - 10-15 consumable items (40\\*) for BOM components\n  - Sample ingredient items (5\\*) for reference\n- Include realistic BOM relationships: menu items (80\\*) → consumable items (40\\*)\n- Export as TypeScript constant or JSON for autocomplete and validation use","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T17:53:09.67518-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:37:41.012685-05:00","closed_at":"2026-01-07T19:37:41.012685-05:00","close_reason":"Closed","labels":["bom","data"],"dependencies":[{"issue_id":"benchtop-x0c.1.5","depends_on_id":"benchtop-x0c.1","type":"parent-child","created_at":"2026-01-07T17:53:09.676298-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.1.5","depends_on_id":"benchtop-x0c.1.1","type":"blocks","created_at":"2026-01-07T18:05:02.497544-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.1.6","title":"Create sample line build fixtures for UI/testing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T17:53:14.86517-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:44:39.517732-05:00","closed_at":"2026-01-07T20:44:39.517732-05:00","close_reason":"Closed","labels":["data","fixtures"],"dependencies":[{"issue_id":"benchtop-x0c.1.6","depends_on_id":"benchtop-x0c.1","type":"parent-child","created_at":"2026-01-07T17:53:14.86617-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.1.6","depends_on_id":"benchtop-x0c.1.4","type":"blocks","created_at":"2026-01-07T18:05:07.650319-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.1.6","depends_on_id":"benchtop-x0c.1.5","type":"blocks","created_at":"2026-01-07T18:05:12.786465-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.10","title":"Epic: Bulk Edit (agent tools + preview + apply)","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T17:52:43.780314-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:52:43.780314-05:00","labels":["bulk-edit","copilotkit","phase1"],"dependencies":[{"issue_id":"benchtop-x0c.10","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:43.781565-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.10.1","title":"Bulk edit: multi-select line builds from results","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T17:59:24.253853-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:59:24.253853-05:00","labels":["bulk-edit","ui"],"dependencies":[{"issue_id":"benchtop-x0c.10.1","depends_on_id":"benchtop-x0c.10","type":"parent-child","created_at":"2026-01-07T17:59:24.2551-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.10.1","depends_on_id":"benchtop-x0c.9.4","type":"blocks","created_at":"2026-01-07T18:00:31.774244-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.10.2","title":"Agent tools: propose bulk edits across selection","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T17:59:29.433537-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:59:29.433537-05:00","labels":["agent","bulk-edit"],"dependencies":[{"issue_id":"benchtop-x0c.10.2","depends_on_id":"benchtop-x0c.10","type":"parent-child","created_at":"2026-01-07T17:59:29.434594-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.10.2","depends_on_id":"benchtop-x0c.10.1","type":"blocks","created_at":"2026-01-07T18:00:36.943005-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.10.3","title":"Bulk edit: preview diff before apply","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T17:59:34.611796-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:59:34.611796-05:00","labels":["bulk-edit","diff","ui"],"dependencies":[{"issue_id":"benchtop-x0c.10.3","depends_on_id":"benchtop-x0c.10","type":"parent-child","created_at":"2026-01-07T17:59:34.613052-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.10.3","depends_on_id":"benchtop-x0c.10.2","type":"blocks","created_at":"2026-01-07T18:00:42.075332-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.10.4","title":"Bulk edit: apply changes (writes JSON)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T17:59:39.809722-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:59:39.809722-05:00","labels":["apply","bulk-edit"],"dependencies":[{"issue_id":"benchtop-x0c.10.4","depends_on_id":"benchtop-x0c.10","type":"parent-child","created_at":"2026-01-07T17:59:39.810964-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.10.4","depends_on_id":"benchtop-x0c.10.3","type":"blocks","created_at":"2026-01-07T18:00:47.211965-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.11","title":"Epic: App Shell + Routing (Dashboard/Editor/Rules)","description":"## Epic: App Shell + Routing (Dashboard/Editor/Rules)\n\nThe main application navigation, state management, and coordination layer.\n\n### Purpose:\nTie all components together with:\n- Page routing (Dashboard / Editor / Rules Manager)\n- Shared state store (form state, chat history, validation results)\n- Data persistence bridge (load/save hooks)\n- Validation orchestration (coordinate both engines, store results)\n\n### Child Tasks:\n- benchtop-x0c.11.1: Route definitions (Dashboard, Editor, Rules)\n- benchtop-x0c.11.2: Editor shell layout (Chat | DAG | Form + Validation)\n- benchtop-x0c.11.3: Load/save handlers (debouncing, error handling)\n- benchtop-x0c.11.4: Shared state store (form ↔ chat ↔ DAG)\n- benchtop-x0c.11.5: Validation orchestration (run both engines, store results)\n\n### Integration Points:\nCoordinates all other epics:\n- benchtop-x0c.3: Form panel fed by state\n- benchtop-x0c.5: Chat panel syncs to state\n- benchtop-x0c.6: Validation results stored in state\n- benchtop-x0c.7: Orchestrates engine runs\n- benchtop-x0c.2: Persists state to JSON\n\n### Acceptance Criteria:\n- [ ] Routes defined: /dashboard, /editor/:id, /rules\n- [ ] Layout: Chat (30%) | DAG (40%) | Form (30%)\n- [ ] State store manages: form, chat, validation, metadata\n- [ ] Open by ID loads persisted line build into state\n- [ ] Save debounced (5s idle) and persists all state\n- [ ] Validation orchestrator runs both engines in parallel\n- [ ] Last-check results stored and displayed\n- [ ] Error recovery for persistence failures","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T18:02:56.650328-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:24:49.529177-05:00","labels":["app","phase1","routing"],"dependencies":[{"issue_id":"benchtop-x0c.11","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T18:02:56.651277-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.11.1","title":"App: define routes (Dashboard, Editor, Rules)","description":"Route definitions for MVP. Acceptance: Define routes: /dashboard (line build list), /editor?id=[buildId] (editor with chat, DAG, form, validation), /rules (validation rules manager). Routes support query parameters for state (build id, scenario params). All routes have proper layout wrapping (benchtop-x0c.11.2). Navigation between routes works correctly. Back button behavior is predictable.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T18:03:01.830986-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:15:44.410776-05:00","closed_at":"2026-01-07T20:15:44.410776-05:00","close_reason":"Closed","labels":["app","routing"],"dependencies":[{"issue_id":"benchtop-x0c.11.1","depends_on_id":"benchtop-x0c.11","type":"parent-child","created_at":"2026-01-07T18:03:01.83189-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.11.1","depends_on_id":"benchtop-x0c.1.1","type":"blocks","created_at":"2026-01-07T18:08:18.910609-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.11.2","title":"App: editor shell layout (Chat | DAG | Form + Validation panel)","description":"App: editor shell layout (Chat | DAG | Form + Validation panel). Acceptance: 3-column responsive layout with Chat (left ~25%), DAG (center ~40%), Form+Validation (right ~35%); columns resizable via draggable dividers; graceful collapse on screens \u003c1200px (stack vertically on mobile); all sub-panels visible on 1920px desktop; consistent 16px padding/8px gaps; 60px header with nav elements; footer optional; keyboard shortcuts for panel focus.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T18:03:07.029821-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:17:18.584645-05:00","closed_at":"2026-01-07T20:17:18.584645-05:00","close_reason":"Closed","labels":["app","editor","ui"],"dependencies":[{"issue_id":"benchtop-x0c.11.2","depends_on_id":"benchtop-x0c.11","type":"parent-child","created_at":"2026-01-07T18:03:07.031023-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.11.2","depends_on_id":"benchtop-x0c.11.1","type":"blocks","created_at":"2026-01-07T18:08:18.976453-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.11.3","title":"App: load/save line build drafts (open by id, persist JSON)","description":"App: load/save line build drafts (open by id, persist JSON). Acceptance: Implement load handler (fetch by id from benchtop-x0c.2.1), populate app state (benchtop-x0c.11.4) with loaded build; implement save handler that persists to JSON; save is triggered on form change (debounced) or explicit save button; handle load errors gracefully; show loading state while loading.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T18:03:12.218763-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:19:13.972088-05:00","closed_at":"2026-01-07T20:19:13.972088-05:00","close_reason":"Closed","labels":["app","data","persistence"],"dependencies":[{"issue_id":"benchtop-x0c.11.3","depends_on_id":"benchtop-x0c.11","type":"parent-child","created_at":"2026-01-07T18:03:12.219844-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.11.3","depends_on_id":"benchtop-x0c.2.1","type":"blocks","created_at":"2026-01-07T18:08:19.039864-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.11.4","title":"App: shared state store (form state ↔ chat actions ↔ DAG render)","description":"App: shared state store (form state ↔ chat actions ↔ DAG render). Acceptance: Implement global state management (React Context or similar) that syncs: form field changes → triggers chat context update \u0026 DAG re-render; chat actions (add step, edit deps) update form; DAG visual reflects current form state; no stale state; support undo/redo or state snapshots.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T18:03:17.411727-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:28:09.691106-05:00","closed_at":"2026-01-07T20:28:09.691106-05:00","close_reason":"Closed","labels":["app","state"],"dependencies":[{"issue_id":"benchtop-x0c.11.4","depends_on_id":"benchtop-x0c.11","type":"parent-child","created_at":"2026-01-07T18:03:17.413372-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.11.4","depends_on_id":"benchtop-x0c.1.3","type":"blocks","created_at":"2026-01-07T18:08:19.103964-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.11.4","depends_on_id":"benchtop-x0c.2.1","type":"blocks","created_at":"2026-01-07T18:17:54.537816-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.11.4","depends_on_id":"benchtop-x0c.2.2","type":"blocks","created_at":"2026-01-07T18:17:59.693877-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.11.5","title":"App: orchestrate validation runs + store last-check results","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T18:03:22.592098-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:36:30.303513-05:00","closed_at":"2026-01-07T20:36:30.303513-05:00","close_reason":"Closed","labels":["app","validation"],"dependencies":[{"issue_id":"benchtop-x0c.11.5","depends_on_id":"benchtop-x0c.11","type":"parent-child","created_at":"2026-01-07T18:03:22.59321-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.11.5","depends_on_id":"benchtop-x0c.7.1","type":"blocks","created_at":"2026-01-07T18:08:19.170731-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.11.5","depends_on_id":"benchtop-x0c.7.2","type":"blocks","created_at":"2026-01-07T18:49:21.848454-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.2","title":"Epic: Data Layer (JSON + Draft/Active)","description":"## Epic: Data Layer (JSON + Draft/Active)\n\nFoundational data persistence and model layer for line builds and validation rules.\n\n### Purpose:\nProvide save/load infrastructure that all UI features depend on. Handles line build persistence, status transitions, and validation rule management.\n\n### Child Tasks:\n- benchtop-x0c.2.1: JSON persistence for line builds (save/load by ID)\n- benchtop-x0c.2.2: Draft/Active status model + transitions\n- benchtop-x0c.2.3: JSON persistence for validation rules\n- benchtop-x0c.2.4: Audit trail fields (sourceConversations[], overrides[])\n\n### Design Principles:\n- Plain JSON files for transparency and debuggability\n- TypeScript types ensure type safety across layer boundaries\n- Status transitions gated (draft-only edits, publish requires validation pass)\n- Audit trail preserved for compliance and debugging\n\n### Acceptance Criteria:\n- [ ] Save/load functions persist and retrieve LineBuild objects\n- [ ] All nested fields (steps[], dependencies[], metadata) persist correctly\n- [ ] Status transitions enforced (draft→active only if valid)\n- [ ] Validation rules queryable by both validation engines\n- [ ] Corruption recovery path exists (benchtop-u2x)\n- [ ] JSON files are human-readable and debuggable","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T17:52:02.385714-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:24:26.05771-05:00","labels":["data","json-persistence","phase1"],"dependencies":[{"issue_id":"benchtop-x0c.2","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:02.387012-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.2.1","title":"Implement JSON persistence for line builds","description":"JSON persistence for line builds. Acceptance: Implement save/load functions that persist LineBuild objects as JSON files (fs module or IndexedDB). Support load by ID (fetches JSON from file/storage). Support save with conflict prevention (timestamps + backups). All nested fields persist correctly (steps[], dependencies[], overrides[]). JSON readable and debuggable. Error handling for corrupted files (benchtop-u2x).","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:53:20.047809-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:36:19.401805-05:00","closed_at":"2026-01-07T19:36:19.401805-05:00","close_reason":"Closed","labels":["data","persistence"],"dependencies":[{"issue_id":"benchtop-x0c.2.1","depends_on_id":"benchtop-x0c.2","type":"parent-child","created_at":"2026-01-07T17:53:20.049045-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.2.1","depends_on_id":"benchtop-x0c.1.4","type":"blocks","created_at":"2026-01-07T18:05:17.945224-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.2.2","title":"Implement draft/active status model + transitions","description":"Implement draft/active status model + transitions. Acceptance: Draft→Active transition blocked if validation has failures; can demote Active→Draft at any time; status persisted in JSON; UI reflects current status.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:53:25.226906-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:41:14.73627-05:00","closed_at":"2026-01-07T19:41:14.73627-05:00","close_reason":"Closed","labels":["data","status"],"dependencies":[{"issue_id":"benchtop-x0c.2.2","depends_on_id":"benchtop-x0c.2","type":"parent-child","created_at":"2026-01-07T17:53:25.228068-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.2.2","depends_on_id":"benchtop-x0c.1.4","type":"blocks","created_at":"2026-01-07T18:05:23.107552-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.2.3","title":"Implement JSON persistence for validation rules","description":"JSON persistence for validation rules. Acceptance: Persist ValidationRule objects (both structured and semantic) as JSON. Support load all rules on app startup. Support add/update/delete rule via API or form. Rules available to both validation engines (benchtop-x0c.7.1 and 7.2). JSON format is readable and editable. Rules engine can read persisted rules and apply them.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:53:30.407599-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:40:04.22244-05:00","closed_at":"2026-01-07T19:40:04.22244-05:00","close_reason":"Closed","labels":["data","rules"],"dependencies":[{"issue_id":"benchtop-x0c.2.3","depends_on_id":"benchtop-x0c.2","type":"parent-child","created_at":"2026-01-07T17:53:30.408678-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.2.3","depends_on_id":"benchtop-x0c.1.4","type":"blocks","created_at":"2026-01-07T18:05:28.267078-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.2.4","title":"Persist audit trail fields (sourceConversations[], overrides[])","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T17:53:35.590717-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:53:35.590717-05:00","labels":["audit","data"],"dependencies":[{"issue_id":"benchtop-x0c.2.4","depends_on_id":"benchtop-x0c.2","type":"parent-child","created_at":"2026-01-07T17:53:35.591801-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.2.4","depends_on_id":"benchtop-x0c.1.4","type":"blocks","created_at":"2026-01-07T18:05:33.417672-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.3","title":"Epic: Editor - Form Panel (linear steps + explicit deps)","description":"## Epic: Editor - Form Panel (linear steps + explicit deps)\n\nThe primary editing surface for line build structure. Users edit WorkUnit properties, dependencies, and step ordering here.\n\n### Purpose:\nProvide a form-based editing interface that allows chefs to:\n- View and edit step-by-step instructions as a linear list\n- Define explicit dependencies between steps\n- Capture all WorkUnit tags (action, target, equipment, time, phase, station, prep)\n- See real-time validation feedback\n\n### Child Tasks:\n- benchtop-x0c.3.1: Step list (linear, collapsible)\n- benchtop-x0c.3.2: Step editor for WorkUnit tags\n- benchtop-x0c.3.3: dependsOn multi-select (explicit deps)\n- benchtop-x0c.3.4: Add/remove/reorder steps (P1)\n- benchtop-x0c.3.5: BOM autocomplete (select by itemId)\n\n### Related:\n- benchtop-4bj: Pre-service prep tags (P1 enhancement)\n- benchtop-x0c.5.4: CopilotKit actions sync form state\n\n### Acceptance Criteria:\n- [ ] Steps display in linear order with collapse/expand\n- [ ] Each step shows: action, target, equipment, time, phase, station\n- [ ] All WorkUnit tags editable inline or in drawer\n- [ ] Dependencies shown in multi-select (can add/remove)\n- [ ] BOM target lookups autocomplete by itemId\n- [ ] Form changes sync to state (benchtop-x0c.11.4)\n- [ ] Validation feedback shown for invalid fields","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T17:52:07.556389-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:24:26.83888-05:00","labels":["editor","form","phase1"],"dependencies":[{"issue_id":"benchtop-x0c.3","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:07.557337-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.3.1","title":"Form: Step list (linear, collapsible)","description":"Form: Step list (linear, collapsible). Acceptance: Display all steps from loaded line build in vertical list; each step shows ID + BOM name + dependencies badge; step is collapsible/expandable to show full details (WorkUnit tags); can scroll if many steps; clicking step selects it for editing in step editor (benchtop-x0c.3.2); show empty state when no line build loaded; loading state while fetching line build.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:53:40.753499-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:47:49.43951-05:00","closed_at":"2026-01-07T19:47:49.43951-05:00","close_reason":"Closed","labels":["form","ui"],"dependencies":[{"issue_id":"benchtop-x0c.3.1","depends_on_id":"benchtop-x0c.3","type":"parent-child","created_at":"2026-01-07T17:53:40.754903-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.3.1","depends_on_id":"benchtop-x0c.2.1","type":"blocks","created_at":"2026-01-07T18:05:38.562834-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.3.2","title":"Form: Step editor for WorkUnit tags","description":"Form: Step editor for WorkUnit tags. Acceptance: Display form fields for WorkUnit properties (name, description, estimatedTime, equipmentTags[]); allow edit-in-place for string fields; support array editing for tags (add/remove tags with autocomplete); field validation (required, positive integers); real-time state update when fields change; collapsible sections for advanced fields.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:53:45.923578-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:49:53.128566-05:00","closed_at":"2026-01-07T19:49:53.128566-05:00","close_reason":"Closed","labels":["form","ui"],"dependencies":[{"issue_id":"benchtop-x0c.3.2","depends_on_id":"benchtop-x0c.3","type":"parent-child","created_at":"2026-01-07T17:53:45.92501-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.3.2","depends_on_id":"benchtop-x0c.3.1","type":"blocks","created_at":"2026-01-07T18:05:43.704927-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.3.3","title":"Form: dependsOn multi-select (explicit deps)","description":"Form: dependsOn multi-select (explicit deps). Acceptance: Render multi-select component showing all other steps (except current); display selected dependencies as chips; allow add/remove via autocomplete dropdown or chip deletion; validate no self-references or circular deps; real-time state update; display dependency count badge on step list item.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:53:51.097644-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:51:23.604887-05:00","closed_at":"2026-01-07T19:51:23.604887-05:00","close_reason":"Closed","labels":["dag","form","ui"],"dependencies":[{"issue_id":"benchtop-x0c.3.3","depends_on_id":"benchtop-x0c.3","type":"parent-child","created_at":"2026-01-07T17:53:51.098671-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.3.3","depends_on_id":"benchtop-x0c.3.2","type":"blocks","created_at":"2026-01-07T18:05:48.854016-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.3.4","title":"Form: Add/remove/reorder steps","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:53:56.286517-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:53:56.286517-05:00","labels":["form","ui"],"dependencies":[{"issue_id":"benchtop-x0c.3.4","depends_on_id":"benchtop-x0c.3","type":"parent-child","created_at":"2026-01-07T17:53:56.28753-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.3.4","depends_on_id":"benchtop-x0c.3.2","type":"blocks","created_at":"2026-01-07T18:05:54.011523-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.3.5","title":"Form: BOM autocomplete (select by itemId)","description":"Form: BOM autocomplete (select by itemId)\n\n## Item ID Format\nItems are 7-digit IDs where first digit(s) indicate type:\n- 5\\* = Ingredients (raw)\n- 40\\* = Consumable Items (components in menu item BOMs)\n- 80\\* = Menu items (have line builds)\n- 88\\* = Packaged goods\n- 9\\* = Guest packaging items\nDisplay format: 'itemId: itemName' (e.g., '4001234: Grilled Chicken', '8001234: Grilled Chicken Bowl')\n\n## BOM Context\n- Menu items (80\\*) have BOMs containing consumable items (40\\*)\n- When selecting BOM components, filter to show 40\\* consumable items\n\n## Acceptance Criteria\n- Searchable dropdown filtering mock BOM data (itemId + name)\n- Filters as user types (by ID or name)\n- Selecting an item populates WorkUnit.bom field\n- Handles zero results gracefully\n- Keyboard navigation (arrow keys, enter)\n- Minimum 2-char search\n- Visual distinction for different item types (optional: color-code by prefix)","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:54:01.457734-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:53:53.558873-05:00","closed_at":"2026-01-07T19:53:53.558873-05:00","close_reason":"Closed","labels":["bom","form","ui"],"dependencies":[{"issue_id":"benchtop-x0c.3.5","depends_on_id":"benchtop-x0c.3","type":"parent-child","created_at":"2026-01-07T17:54:01.45874-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.3.5","depends_on_id":"benchtop-x0c.1.5","type":"blocks","created_at":"2026-01-07T18:05:59.170792-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.3.5","depends_on_id":"benchtop-x0c.3.2","type":"blocks","created_at":"2026-01-07T18:06:04.31771-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.4","title":"Epic: Editor - DAG Panel (read-only L→R)","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T17:52:12.730279-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:52:12.730279-05:00","labels":["dag","editor","phase1"],"dependencies":[{"issue_id":"benchtop-x0c.4","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:12.731708-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.4.1","title":"DAG view: read-only L→R visualization","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:54:06.644315-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:25.71556-05:00","closed_at":"2026-01-08T06:46:25.71556-05:00","close_reason":"Implemented in ralph-improve Iteration 4 - DAGVisualization.tsx with React Flow, action type colors, phase colors, mini-map, selection sync","labels":["dag","ui"],"dependencies":[{"issue_id":"benchtop-x0c.4.1","depends_on_id":"benchtop-x0c.4","type":"parent-child","created_at":"2026-01-07T17:54:06.645271-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.4.1","depends_on_id":"benchtop-x0c.3.1","type":"blocks","created_at":"2026-01-07T18:06:09.462448-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.4.2","title":"DAG view: render edges (hard/soft)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T17:54:11.848692-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:54:11.848692-05:00","labels":["dag","ui"],"dependencies":[{"issue_id":"benchtop-x0c.4.2","depends_on_id":"benchtop-x0c.4","type":"parent-child","created_at":"2026-01-07T17:54:11.849683-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.4.2","depends_on_id":"benchtop-x0c.4.1","type":"blocks","created_at":"2026-01-07T18:06:19.731421-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.4.3","title":"DAG view: sync rendering from form state","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T17:54:17.019258-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:26.610512-05:00","closed_at":"2026-01-08T06:46:26.610512-05:00","close_reason":"Implemented in ralph-improve Iteration 4 - EditorContainer passes live build data and onSelectStep callback to DAGVisualization","labels":["dag","ui"],"dependencies":[{"issue_id":"benchtop-x0c.4.3","depends_on_id":"benchtop-x0c.4","type":"parent-child","created_at":"2026-01-07T17:54:17.02038-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.4.3","depends_on_id":"benchtop-x0c.4.1","type":"blocks","created_at":"2026-01-07T18:06:14.601467-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.4.4","title":"DAG view: click node to focus corresponding step","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T17:54:22.187454-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:54:22.187454-05:00","labels":["dag","ui"],"dependencies":[{"issue_id":"benchtop-x0c.4.4","depends_on_id":"benchtop-x0c.4","type":"parent-child","created_at":"2026-01-07T17:54:22.188696-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.4.4","depends_on_id":"benchtop-x0c.4.1","type":"blocks","created_at":"2026-01-07T18:07:25.417368-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.5","title":"Epic: Editor - Chat Panel (CopilotKit actions + cards)","description":"## Epic: Editor - Chat Panel (CopilotKit actions + cards)\n\nThe conversational editing interface. Users describe changes in natural language; AI assists with structured suggestions.\n\n### Purpose:\nProvide an AI-driven authoring experience alongside the form panel. Enables:\n- Free-form natural language input about cooking steps\n- Interactive cards for step-by-step guidance (\"What's your next step?\")\n- Structured form actions executed by chat (\"add step\", \"change equipment\")\n- Bidirectional sync with form state\n\n### Child Tasks:\n- benchtop-x0c.5.1: Chat UI shell + message history\n- benchtop-x0c.5.2: Inline cards (interactive option selectors)\n- benchtop-x0c.5.3: Card submit sends structured JSON context (P1)\n- benchtop-x0c.5.4: CopilotKit actions to update form/steps\n- benchtop-x0c.5.5: Human-in-the-loop confirm/deny (P1)\n\n### Integration Points:\n- benchtop-x0c.1.3: CopilotKit configuration (prerequisite)\n- benchtop-x0c.11.4: State store (form state sync)\n- benchtop-7ql: Form actions contract (defines which actions are available)\n\n### Acceptance Criteria:\n- [ ] Chat UI renders messages and user input field\n- [ ] Message history persisted in state (benchtop-x0c.11.4)\n- [ ] Interactive cards present options to user\n- [ ] CopilotKit actions update WorkUnit properties\n- [ ] Form changes reflected in chat context\n- [ ] Card submissions include structured WorkUnit JSON\n- [ ] Confirm/deny flow for AI proposals (P1)","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T17:52:17.9234-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:24:46.008512-05:00","labels":["chat","copilotkit","editor","phase1"],"dependencies":[{"issue_id":"benchtop-x0c.5","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:17.924294-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.5.1","title":"Chat: UI shell + message history","description":"Chat: UI shell + message history. Acceptance: Render message feed with user/assistant/system message bubbles (different styling); auto-scroll to latest; show message timestamps; clear history button with confirmation; integrate with CopilotKit for message handling; system messages (AI instructions/context) passed to Gemini; all messages persist in sourceConversations[] array in JSON; loading state while waiting for API response.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:54:27.361488-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:55:20.425453-05:00","closed_at":"2026-01-07T19:55:20.425453-05:00","close_reason":"Closed","labels":["chat","ui"],"dependencies":[{"issue_id":"benchtop-x0c.5.1","depends_on_id":"benchtop-x0c.5","type":"parent-child","created_at":"2026-01-07T17:54:27.362716-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.5.1","depends_on_id":"benchtop-x0c.1.3","type":"blocks","created_at":"2026-01-07T18:07:38.532466-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.5.2","title":"Chat: inline cards (interactive option selectors)","description":"Chat: inline cards (interactive option selectors). Acceptance: Render card component in chat with title + option list; each option is clickable; selected option is highlighted; click triggers card submit action; cards are responsive on mobile; support multi-select and single-select modes.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:54:32.531187-05:00","created_by":"brandongalang","updated_at":"2026-01-07T19:59:16.467389-05:00","closed_at":"2026-01-07T19:59:16.467389-05:00","close_reason":"Closed","labels":["chat","ui"],"dependencies":[{"issue_id":"benchtop-x0c.5.2","depends_on_id":"benchtop-x0c.5","type":"parent-child","created_at":"2026-01-07T17:54:32.532424-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.5.2","depends_on_id":"benchtop-x0c.5.1","type":"blocks","created_at":"2026-01-07T18:07:38.596386-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.5.3","title":"Chat: card submit sends structured JSON context","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T17:54:37.701934-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:54:37.701934-05:00","labels":["agent","chat","ui"],"dependencies":[{"issue_id":"benchtop-x0c.5.3","depends_on_id":"benchtop-x0c.5","type":"parent-child","created_at":"2026-01-07T17:54:37.703131-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.5.3","depends_on_id":"benchtop-x0c.5.2","type":"blocks","created_at":"2026-01-07T18:07:38.659673-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.5.4","title":"Chat: CopilotKit actions to update form/steps","description":"CopilotKit tool actions for form updates. Acceptance: Implement CopilotKit useAction hooks for: addWorkUnit (create new step with default values), editWorkUnit (modify name/description/time/tags), removeWorkUnit (delete step), setDependencies (update dependsOn array), changeBOM (select new BOM item). Each action accepts inputs as defined in benchtop-7ql contract. Actions call form state hooks to update form. Real-time UI refresh after action. Support undo/redo if supported by app state (benchtop-x0c.11.4).","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:54:42.876645-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:04:41.591131-05:00","closed_at":"2026-01-07T20:04:41.591131-05:00","close_reason":"Closed","labels":["agent","copilotkit"],"dependencies":[{"issue_id":"benchtop-x0c.5.4","depends_on_id":"benchtop-x0c.5","type":"parent-child","created_at":"2026-01-07T17:54:42.877675-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.5.4","depends_on_id":"benchtop-x0c.1.3","type":"blocks","created_at":"2026-01-07T18:07:38.722575-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.5.4","depends_on_id":"benchtop-x0c.3.2","type":"blocks","created_at":"2026-01-07T18:07:38.785007-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.5.4","depends_on_id":"benchtop-7ql","type":"blocks","created_at":"2026-01-07T18:47:28.78814-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.5.5","title":"Chat: human-in-the-loop confirm/deny agent proposals","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:54:48.038264-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:54:48.038264-05:00","labels":["agent","copilotkit"],"dependencies":[{"issue_id":"benchtop-x0c.5.5","depends_on_id":"benchtop-x0c.5","type":"parent-child","created_at":"2026-01-07T17:54:48.039102-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.5.5","depends_on_id":"benchtop-x0c.5.4","type":"blocks","created_at":"2026-01-07T18:07:38.847383-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.6","title":"Epic: Validation Panel (checklist + check-my-work)","description":"## Epic: Validation Panel (checklist + check-my-work)\n\nThe UI for displaying validation results and gating publishing.\n\n### Purpose:\nShow users what's valid and what needs fixing before publication. Provides:\n- Read-only checklist of validation rule results\n- \"Check my work\" button to run all validations\n- Failure reasons and guidance for fixing issues\n- Gating logic: Draft→Active only if all validations pass\n\n### Child Tasks:\n- benchtop-x0c.6.1: Validation UI: checklist panel (read-only status)\n- benchtop-x0c.6.2: Validation UI: 'Check my work' button + run status\n- benchtop-x0c.6.3: Last-checked timestamp + stale indicator (P1 - closed)\n- benchtop-x0c.6.4: Validation gating: block Draft→Active if failures\n\n### Integration Points:\n- benchtop-x0c.11.5: Validation orchestrator (runs validations)\n- benchtop-x0c.7.*: Validation engines (structured + semantic)\n- benchtop-x0c.11.4: State store (stores validation results)\n\n### Acceptance Criteria:\n- [ ] Checklist shows pass/fail status for each rule\n- [ ] Failures include reasoning and guidance\n- [ ] Check my work button triggers orchestration (benchtop-x0c.11.5)\n- [ ] Spinner shown during validation run\n- [ ] Results display rule ID, name, pass/fail, failure reasons\n- [ ] Last checked timestamp shown with stale indicator\n- [ ] Draft→Active transition blocked if failures exist\n- [ ] Override reason capture for approved exceptions (benchtop-yne)","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T17:52:23.093253-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:24:47.612204-05:00","labels":["phase1","ui","validation"],"dependencies":[{"issue_id":"benchtop-x0c.6","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:23.094519-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.6.1","title":"Validation UI: checklist panel (read-only status)","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:54:53.22504-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:12:11.794417-05:00","closed_at":"2026-01-07T20:12:11.794417-05:00","close_reason":"Closed","labels":["ui","validation"],"dependencies":[{"issue_id":"benchtop-x0c.6.1","depends_on_id":"benchtop-x0c.6","type":"parent-child","created_at":"2026-01-07T17:54:53.226039-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.6.1","depends_on_id":"benchtop-x0c.7.1","type":"blocks","created_at":"2026-01-07T18:07:52.010931-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.6.1","depends_on_id":"benchtop-x0c.7.2","type":"blocks","created_at":"2026-01-07T18:07:52.081874-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.6.2","title":"Validation UI: 'Check my work' button + run status","description":"Button UI: Trigger validation run. Acceptance: Button labeled 'Check my work' with icon; disabled when validation already running; shows spinner while running; disabled while running; after completion, updates validation panel with results; click triggers validation orchestrator (benchtop-x0c.11.5) to run both structured and semantic validation; display success/error toast; show result count in toast.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:54:58.446936-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:39:26.697157-05:00","closed_at":"2026-01-07T20:39:26.697157-05:00","close_reason":"Closed","labels":["ui","validation"],"dependencies":[{"issue_id":"benchtop-x0c.6.2","depends_on_id":"benchtop-x0c.6","type":"parent-child","created_at":"2026-01-07T17:54:58.44778-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.6.2","depends_on_id":"benchtop-x0c.6.1","type":"blocks","created_at":"2026-01-07T18:07:52.145592-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.6.2","depends_on_id":"benchtop-x0c.11.5","type":"blocks","created_at":"2026-01-07T18:55:32.492537-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.6.3","title":"Validation UI: last-checked timestamp + stale indicator","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T17:55:03.675894-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:41:58.109202-05:00","closed_at":"2026-01-07T20:41:58.109202-05:00","close_reason":"Closed","labels":["ui","validation"],"dependencies":[{"issue_id":"benchtop-x0c.6.3","depends_on_id":"benchtop-x0c.6","type":"parent-child","created_at":"2026-01-07T17:55:03.677092-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.6.3","depends_on_id":"benchtop-x0c.6.2","type":"blocks","created_at":"2026-01-07T18:07:52.208421-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.6.4","title":"Validation gating: block Draft→Active if failures","description":"Validation gating: enforce publish safety. Acceptance: When attempting Draft→Active transition, check validation results. If any failures exist, block transition and show error message. Allow demotion Active→Draft at any time without validation checks. Button/UI clearly communicates validation gate status. Honors both structured and semantic validation results.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:55:08.84457-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:13:50.631896-05:00","closed_at":"2026-01-07T20:13:50.631896-05:00","close_reason":"Closed","labels":["publish","validation"],"dependencies":[{"issue_id":"benchtop-x0c.6.4","depends_on_id":"benchtop-x0c.6","type":"parent-child","created_at":"2026-01-07T17:55:08.845453-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.6.4","depends_on_id":"benchtop-x0c.2.2","type":"blocks","created_at":"2026-01-07T18:07:52.336784-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.6.4","depends_on_id":"benchtop-x0c.7.1","type":"blocks","created_at":"2026-01-07T18:07:52.401632-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.6.4","depends_on_id":"benchtop-x0c.7.2","type":"blocks","created_at":"2026-01-07T18:07:52.465387-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.7","title":"Epic: Validation Engine (structured + semantic)","description":"## Epic: Validation Engine (structured + semantic)\n\nThe core validation logic: rule evaluators that check line builds for completeness and correctness.\n\n### Purpose:\nImplement two complementary validation approaches:\n1. Structured rules: Deterministic checks (action types in valid set, time \u003e 0, etc.)\n2. Semantic rules: AI-driven reasoning (realistic cook times by equipment, logical flow, etc.)\n\nBoth produce a unified ValidationResult schema for UI consumption.\n\n### Child Tasks:\n- benchtop-x0c.7.1: Structured rules evaluator (deterministic conditions)\n- benchtop-x0c.7.2: Semantic rules via Gemini (pass/fail + reasoning)\n- benchtop-x0c.7.3: Semantic rule MVP: flag unrealistic cook times by equipment (P1)\n- benchtop-x0c.7.4: Normalized result schema (per-rule pass/fail/reasoning)\n\n### Integration Points:\n- benchtop-x0c.1.2: Vertex AI client (for semantic evaluation)\n- benchtop-x0c.2.3: Validation rules persistence (rules used by engines)\n- benchtop-x0c.11.5: Validation orchestrator (coordinates engine runs)\n\n### Acceptance Criteria:\n- [ ] Structured evaluator checks all deterministic rules\n- [ ] Semantic evaluator queries Gemini with LLM-safe inputs\n- [ ] Both produce ValidationResult schema consistently\n- [ ] Failure messages include actionable guidance\n- [ ] Reasoning included for semantic rule failures\n- [ ] Performance acceptable for MVP (\u003c 5s for typical build)\n- [ ] Error handling for API timeouts/failures (benchtop-ntj)","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-07T17:52:28.25324-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:24:48.425899-05:00","labels":["engine","phase1","validation","vertex"],"dependencies":[{"issue_id":"benchtop-x0c.7","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:28.254263-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.7.1","title":"Validation engine: structured rules evaluator","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:55:14.026679-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:08:50.942948-05:00","closed_at":"2026-01-07T20:08:50.942948-05:00","close_reason":"Closed","labels":["engine","validation"],"dependencies":[{"issue_id":"benchtop-x0c.7.1","depends_on_id":"benchtop-x0c.7","type":"parent-child","created_at":"2026-01-07T17:55:14.027623-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.7.1","depends_on_id":"benchtop-x0c.2.3","type":"blocks","created_at":"2026-01-07T18:07:45.504087-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.7.1","depends_on_id":"benchtop-x0c.7.4","type":"blocks","created_at":"2026-01-07T18:07:45.568388-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.7.2","title":"Validation engine: semantic rules via Gemini (pass/fail + reasoning)","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T17:55:19.221191-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:10:24.282331-05:00","closed_at":"2026-01-07T20:10:24.282331-05:00","close_reason":"Closed","labels":["engine","validation","vertex"],"dependencies":[{"issue_id":"benchtop-x0c.7.2","depends_on_id":"benchtop-x0c.7","type":"parent-child","created_at":"2026-01-07T17:55:19.222121-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.7.2","depends_on_id":"benchtop-x0c.1.2","type":"blocks","created_at":"2026-01-07T18:07:45.631058-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.7.2","depends_on_id":"benchtop-x0c.1.5","type":"blocks","created_at":"2026-01-07T18:07:45.694967-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.7.2","depends_on_id":"benchtop-x0c.2.3","type":"blocks","created_at":"2026-01-07T18:07:45.759167-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.7.3","title":"Semantic rule MVP: flag unrealistic cook times by equipment","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T17:55:24.383653-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:55:24.383653-05:00","labels":["semantic","validation"],"dependencies":[{"issue_id":"benchtop-x0c.7.3","depends_on_id":"benchtop-x0c.7","type":"parent-child","created_at":"2026-01-07T17:55:24.384748-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.7.3","depends_on_id":"benchtop-x0c.7.2","type":"blocks","created_at":"2026-01-07T18:07:45.822044-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.7.4","title":"Validation engine: normalized result schema (per-rule pass/fail/reasoning)","description":"Define normalized ValidationResult schema for both validation engines. Acceptance: Schema includes: ruleId, ruleName, pass (boolean), failures[] (array of failure reasons), reasoning (explanation from Gemini for semantic rules). Both structured evaluator (benchtop-x0c.7.1) and semantic validator (benchtop-x0c.7.2) return results in this schema. Results can be aggregated and displayed in UI (benchtop-x0c.6.1 and 6.2). TypeScript types defined in benchtop-x0c.1.4.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T17:55:29.542432-05:00","created_by":"brandongalang","updated_at":"2026-01-07T20:06:23.870434-05:00","closed_at":"2026-01-07T20:06:23.870434-05:00","close_reason":"Closed","labels":["engine","validation"],"dependencies":[{"issue_id":"benchtop-x0c.7.4","depends_on_id":"benchtop-x0c.7","type":"parent-child","created_at":"2026-01-07T17:55:29.543394-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.7.4","depends_on_id":"benchtop-x0c.1.4","type":"blocks","created_at":"2026-01-07T18:07:45.440531-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.8","title":"Epic: Rules Manager (structured + NL/semantic rules)","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T17:52:33.433816-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:52:33.433816-05:00","labels":["phase1","rules","validation"],"dependencies":[{"issue_id":"benchtop-x0c.8","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:33.43517-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.8.1","title":"Rules Manager: list/create/edit/enable rules","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:55:34.722447-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:55:34.722447-05:00","labels":["rules","ui"],"dependencies":[{"issue_id":"benchtop-x0c.8.1","depends_on_id":"benchtop-x0c.8","type":"parent-child","created_at":"2026-01-07T17:55:34.723676-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.8.1","depends_on_id":"benchtop-x0c.2.3","type":"blocks","created_at":"2026-01-07T18:07:59.247512-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.8.2","title":"Rules Manager: structured rules form (deterministic)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:55:39.886267-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:55:39.886267-05:00","labels":["rules","ui"],"dependencies":[{"issue_id":"benchtop-x0c.8.2","depends_on_id":"benchtop-x0c.8","type":"parent-child","created_at":"2026-01-07T17:55:39.887258-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.8.2","depends_on_id":"benchtop-x0c.8.1","type":"blocks","created_at":"2026-01-07T18:07:59.315968-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.8.3","title":"Rules Manager: semantic rule editor (prompt + guidance)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:55:45.065841-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:55:45.065841-05:00","labels":["rules","ui","vertex"],"dependencies":[{"issue_id":"benchtop-x0c.8.3","depends_on_id":"benchtop-x0c.8","type":"parent-child","created_at":"2026-01-07T17:55:45.06696-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.8.3","depends_on_id":"benchtop-x0c.8.1","type":"blocks","created_at":"2026-01-07T18:07:59.381175-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.8.3","depends_on_id":"benchtop-x0c.1.2","type":"blocks","created_at":"2026-01-07T18:07:59.447416-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.8.4","title":"Rules Manager: natural-language rule drafting (LLM → rule stub)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T17:55:50.230199-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:55:50.230199-05:00","labels":["rules","ui","vertex"],"dependencies":[{"issue_id":"benchtop-x0c.8.4","depends_on_id":"benchtop-x0c.8","type":"parent-child","created_at":"2026-01-07T17:55:50.231765-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.8.4","depends_on_id":"benchtop-x0c.8.3","type":"blocks","created_at":"2026-01-07T18:07:59.514305-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.8.5","title":"Rules Manager: test rule against a line build (preview result)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T17:58:53.176899-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:58:53.176899-05:00","labels":["rules","ui","validation"],"dependencies":[{"issue_id":"benchtop-x0c.8.5","depends_on_id":"benchtop-x0c.8","type":"parent-child","created_at":"2026-01-07T17:58:53.17825-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.8.5","depends_on_id":"benchtop-x0c.8.1","type":"blocks","created_at":"2026-01-07T17:59:55.725316-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.9","title":"Epic: Dashboard - Agentic Search + Results","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T17:52:38.612324-05:00","created_by":"brandongalang","updated_at":"2026-01-07T17:52:38.612324-05:00","labels":["copilotkit","dashboard","phase1","search"],"dependencies":[{"issue_id":"benchtop-x0c.9","depends_on_id":"benchtop-x0c","type":"parent-child","created_at":"2026-01-07T17:52:38.613352-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.9.1","title":"Dashboard: line build list (status, last updated)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:58:58.339219-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:41:15.709106-05:00","closed_at":"2026-01-07T21:41:15.709106-05:00","close_reason":"Closed","labels":["dashboard","ui"],"dependencies":[{"issue_id":"benchtop-x0c.9.1","depends_on_id":"benchtop-x0c.9","type":"parent-child","created_at":"2026-01-07T17:58:58.340724-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.9.1","depends_on_id":"benchtop-x0c.2.1","type":"blocks","created_at":"2026-01-07T18:00:00.865258-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.9.2","title":"Dashboard: CopilotKit agent chat (primary search UX)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:59:03.52067-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:42:43.986751-05:00","closed_at":"2026-01-07T21:42:43.986751-05:00","close_reason":"Closed","labels":["agent","copilotkit","ui"],"dependencies":[{"issue_id":"benchtop-x0c.9.2","depends_on_id":"benchtop-x0c.9","type":"parent-child","created_at":"2026-01-07T17:59:03.522004-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.9.2","depends_on_id":"benchtop-x0c.1.3","type":"blocks","created_at":"2026-01-07T18:00:06.019157-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.9.3","title":"Agent tools: search line builds by tags/fields","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:59:08.683589-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:44:45.591769-05:00","closed_at":"2026-01-07T21:44:45.591769-05:00","close_reason":"Closed","labels":["agent","search"],"dependencies":[{"issue_id":"benchtop-x0c.9.3","depends_on_id":"benchtop-x0c.9","type":"parent-child","created_at":"2026-01-07T17:59:08.684679-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.9.3","depends_on_id":"benchtop-x0c.2.1","type":"blocks","created_at":"2026-01-07T18:00:11.164771-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.9.4","title":"Dashboard: render agent search results + drill-in","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T17:59:13.868158-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:46:26.613619-05:00","closed_at":"2026-01-07T21:46:26.613619-05:00","close_reason":"Closed","labels":["search","ui"],"dependencies":[{"issue_id":"benchtop-x0c.9.4","depends_on_id":"benchtop-x0c.9","type":"parent-child","created_at":"2026-01-07T17:59:13.869014-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.9.4","depends_on_id":"benchtop-x0c.9.2","type":"blocks","created_at":"2026-01-07T18:00:16.295413-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.9.4","depends_on_id":"benchtop-x0c.9.3","type":"blocks","created_at":"2026-01-07T18:00:21.438105-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x0c.9.5","title":"Routing: navigate dashboard → editor (by id)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T17:59:19.053658-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:47:32.232245-05:00","closed_at":"2026-01-07T21:47:32.232245-05:00","close_reason":"Closed","labels":["routing"],"dependencies":[{"issue_id":"benchtop-x0c.9.5","depends_on_id":"benchtop-x0c.9","type":"parent-child","created_at":"2026-01-07T17:59:19.055452-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-x0c.9.5","depends_on_id":"benchtop-x0c.9.1","type":"blocks","created_at":"2026-01-07T18:00:26.567583-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-x1i","title":"Overlay: evaluation engine (resolve effective values)","description":"## Overlay Evaluation Engine\n\n### Purpose\nGiven a context (equipment profile, customer mods), compute the 'effective' line build with all applicable overlays applied.\n\n### Function Signature\n```typescript\nfunction resolveOverlays(\n  lineBuild: LineBuild,\n  context: {\n    equipmentProfile?: string;\n    customerMods?: string[];\n  }\n): LineBuild {\n  // 1. Find matching overlays\n  // 2. Sort by priority (higher wins)\n  // 3. Apply step overrides in order\n  // 4. Return resolved line build\n}\n```\n\n### Matching Logic\n- equipmentProfile overlay matches if context.equipmentProfile === overlay.condition.equipmentProfile\n- customerMod overlay matches if context.customerMods includes overlay.condition.customerMod\n- Multiple overlays can apply; priority determines order\n\n### Conflict Resolution\n- Later (higher priority) overlays win\n- Same field overridden twice → last one wins\n\n### Acceptance Criteria\n- [ ] resolveOverlays function implemented\n- [ ] Matches equipment profile conditions\n- [ ] Matches customer mod conditions  \n- [ ] Handles multiple matching overlays\n- [ ] Priority ordering works correctly\n- [ ] Returns new LineBuild (immutable, doesn't mutate original)\n- [ ] Unit tests for edge cases","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T21:36:04.047362-05:00","created_by":"brandongalang","updated_at":"2026-01-08T06:46:22.141943-05:00","closed_at":"2026-01-08T06:46:22.141943-05:00","close_reason":"Implemented in ralph-improve Iteration 6 - resolveWorkUnits() with 24 passing tests, predicate matching, priority-based resolution","labels":["engine","overlay"],"dependencies":[{"issue_id":"benchtop-x1i","depends_on_id":"benchtop-3ui","type":"blocks","created_at":"2026-01-07T21:36:13.654857-05:00","created_by":"brandongalang"}]}
{"id":"benchtop-y1i","title":"Create demo line build with complex dependencies","description":"Create a realistic sample line build fixture with 8-10 steps, multiple dependency chains, several override scenarios. Use real item IDs from sample BOM. Export as JSON fixture for UI testing and user demos. Include documentation of what makes this build 'complex' for validation testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T18:19:02.69625-05:00","created_by":"brandongalang","updated_at":"2026-01-07T18:19:02.69625-05:00","labels":["demo","documentation","fixtures"]}
{"id":"benchtop-yne","title":"Override UI: capture reason + review queue","description":"## Override Reason Capture UI\n\nPer PRD: Hard validation blocks publish, but user can override with a reason.\n\n### Override Model\n```typescript\ninterface Override {\n  ruleId: string;        // Which rule was overridden\n  reason: string;        // User explanation (required)\n  overriddenAt: string;  // ISO timestamp\n  overriddenBy?: string; // User ID (if auth exists)\n}\n```\n\n### UX Flow\n1. Validation runs → shows failures\n2. User clicks 'Override' on a failed rule\n3. Modal/inline form appears asking for reason\n4. User types reason (required, min 10 chars)\n5. Override is saved to LineBuild.overrides[]\n6. Validation status shows 'Overridden' (yellow) instead of 'Failed' (red)\n7. Draft→Active transition allowed with overrides\n\n### Acceptance Criteria\n- [ ] Override button appears next to failed validation results\n- [ ] Clicking override opens reason input (modal or inline)\n- [ ] Reason is required (min 10 characters)\n- [ ] Override is persisted in LineBuild.overrides[]\n- [ ] Validation UI distinguishes: passed (green), failed (red), overridden (yellow/amber)\n- [ ] Overridden rules don't block Draft→Active transition\n- [ ] Can view existing overrides (reason + timestamp)\n- [ ] Can remove an override (re-enables the block)\n\n### Future (not this bead)\n- Review queue for Shin/Training to audit overrides\n- Override patterns → rule refinement","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T21:18:04.745705-05:00","created_by":"brandongalang","updated_at":"2026-01-07T21:18:04.745705-05:00","labels":["override","phase1","validation"],"dependencies":[{"issue_id":"benchtop-yne","depends_on_id":"benchtop-x0c.6.1","type":"blocks","created_at":"2026-01-07T21:18:10.850963-05:00","created_by":"brandongalang"},{"issue_id":"benchtop-yne","depends_on_id":"benchtop-x0c.2.1","type":"blocks","created_at":"2026-01-07T21:18:10.961681-05:00","created_by":"brandongalang"}]}
